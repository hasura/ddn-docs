import BaseUrlLink from '@site/src/_databaseDocs/baseLink';

## Step 1. Create the Hasura metadata

Hasura DDN uses a concept called a
<BaseUrlLink to="/supergraph-modeling/data-connectors/" text="DataConnectorLink" /> to take
[NDC-compliant](https://github.com/hasura/ndc-spec) `configuration.json` and transform it into an `hml` (Hasura Metadata
Language) file.

You can create this file with the Hasura CLI. It will be scaffolded out as `mymongo.hml` in a new `metadata`
subdirectory for your subgraph by running:

```bash
ddn connector-link add mymongo
```

The generated file has two environment variables â€” one for reads and one for writes â€” that you'll need to add to your
subgraph's `.env` file. As with the example we've followed so far, we'll need to add the following snippet to our
`<subgraph-name>/.env.ux` file:

```env
SUBGRAPH_NAME_MYMONGO_READ_URL=http://local-dev.hasura.me:8081
SUBGRAPH_NAME_MYMONGO_WRITE_URL=http://local-dev.hasura.me:8081
```

These values are for the MongoDB connector itself and utilize `local-dev.hasura.me` to ensure proper resolution
within the docker container.

## Step 2. Update the DataConnectorLink

Finally, now that our DataConnectorLink has the correct environment variables configured for the MongoDB connector,
we can update it to reflect our database's schema in `hml`:

```bash
ddn connector-link update mypg
```

After this command runs, you can open your `<subgraph>/connector/mymongo/metadata/mymongo/mymongo.hml` file and see
your metadata completely scaffolded out for you ðŸŽ‰
