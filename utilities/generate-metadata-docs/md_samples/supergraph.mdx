### CompatibilityConfig

The compatibility configuration of the Hasura metadata.

| Name   | Type   | Required | Description                                                                                      |
| ------ | ------ | -------- | ------------------------------------------------------------------------------------------------ |
| `kind` | string | true     |                                                                                                  |
| `date` | object | true     | Any backwards incompatible changes made to Hasura DDN after this date won't impact the metadata. |

### AuthConfig

Definition of the authentication configuration used by the API server.

| Name         | Type   | Required | Description                                                            |
| ------------ | ------ | -------- | ---------------------------------------------------------------------- |
| `kind`       | string | true     |                                                                        |
| `version`    | string | true     |                                                                        |
| `definition` | object | true     | Definition of the authentication configuration used by the API server. |

| Name                   | Type   | Required | Description                                                            |
| ---------------------- | ------ | -------- | ---------------------------------------------------------------------- |
| `allowRoleEmulationBy` | object | false    |                                                                        |
| `mode`                 | object | true     | The configuration for the authentication mode to use - webhook or JWT. |

Examples:

```yaml
allowRoleEmulationBy: admin
mode:
  webhook:
    url: http://auth_hook:3050/validate-request
    method: Post
```

#### AuthModeConfig

The configuration for the authentication mode to use - webhook or JWT.

| Name      | Type   | Required | Description                                      |
| --------- | ------ | -------- | ------------------------------------------------ |
| `webhook` | object | true     | The configuration of the authentication webhook. |

#### AuthHookConfig

The configuration of the authentication webhook.

| Name     | Type   | Required | Description                                                      |
| -------- | ------ | -------- | ---------------------------------------------------------------- |
| `url`    | string | true     | The URL of the authentication webhook.                           |
| `method` | object | true     | The HTTP method to be used to make the request to the auth hook. |

Examples:

```yaml
url: http://auth_hook:3050/validate-request
method: Post
```

| Name  | Type   | Required | Description                                                                                                         |
| ----- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------- |
| `jwt` | object | true     | JWT config according to which the incoming JWT will be verified and decoded to extract the session variable claims. |

#### JWTConfig

JWT config according to which the incoming JWT will be verified and decoded to extract the session variable claims.

| Name            | Type         | Required | Description                                                                                                           |
| --------------- | ------------ | -------- | --------------------------------------------------------------------------------------------------------------------- |
| `audience`      | array,null   | false    | Optional validation to check that the `aud` field is a member of the `audience` recieved, otherwise will throw error. |
| `issuer`        | string,null  | false    | Optional validation to check that the `iss` field is a member of the `iss` received, otherwise will throw error.      |
| `allowedSkew`   | integer,null | false    | Allowed leeway (in seconds) to the `exp` validation to account for clock skew.                                        |
| `claimsConfig`  | object       | true     | Claims config. Either specified via `claims_mappings` or `claims_namespace_path`                                      |
| `tokenLocation` | object       | true     | Source of the JWT authentication token.                                                                               |
| `key`           | object       | true     | Mode according to which the JWT auth is configured.                                                                   |

Examples:

```yaml
audience: null
issuer: null
allowedSkew: null
claimsConfig:
  namespace:
    claimsFormat: Json
    location: /https:~1~1hasura.io~1jwt~1claims
tokenLocation:
  type: BearerAuthorization
key:
  fixed:
    algorithm: HS256
    key:
      value: token
```

#### JWTClaimsConfig

Config to describe how/where the engine should look for the claims within the decoded token.

| Name        | Type   | Required | Description                                                                                                                                                                       |
| ----------- | ------ | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `locations` | object | true     | Can be used when Hasura claims are not all present in the single object, but individual claims are provided a JSON pointer within the decoded JWT and optionally a default value. |

#### JWTClaimsMap

Can be used when Hasura claims are not all present in the single object, but individual claims are provided a JSON
pointer within the decoded JWT and optionally a default value.

| Name                     | Type   | Required | Description                                                      |
| ------------------------ | ------ | -------- | ---------------------------------------------------------------- |
| `x-hasura-default-role`  | object | true     | JSON pointer to lookup the default role within the decoded JWT.  |
| `x-hasura-allowed-roles` | object | true     | JSON pointer to lookup the allowed roles within the decoded JWT. |

#### JWTClaimsMappingEntry

| Name      | Type   | Required | Description |
| --------- | ------ | -------- | ----------- |
| `literal` | string | true     |             |

| Name   | Type   | Required | Description |
| ------ | ------ | -------- | ----------- |
| `path` | object | true     |             |

#### JWTClaimsMappingPathEntry

| Name      | Type   | Required | Description                                                                                 |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------- |
| `path`    | string | true     | JSON pointer to find the particular claim in the decoded JWT token.                         |
| `default` | object | false    | Default value to be used when no value is found when looking up the value using the `path`. |

#### JWTClaimsMappingEntry

| Name      | Type  | Required | Description |
| --------- | ----- | -------- | ----------- |
| `literal` | array | true     |             |

| Name   | Type   | Required | Description |
| ------ | ------ | -------- | ----------- |
| `path` | object | true     |             |

#### JWTClaimsMappingPathEntry

| Name      | Type       | Required | Description                                                                                 |
| --------- | ---------- | -------- | ------------------------------------------------------------------------------------------- |
| `path`    | string     | true     | JSON pointer to find the particular claim in the decoded JWT token.                         |
| `default` | array,null | false    | Default value to be used when no value is found when looking up the value using the `path`. |

| Name        | Type   | Required | Description                                                                               |
| ----------- | ------ | -------- | ----------------------------------------------------------------------------------------- |
| `namespace` | object | true     | Used when all of the Hasura claims are present in a single object within the decoded JWT. |

#### JWTClaimsNamespace

Used when all of the Hasura claims are present in a single object within the decoded JWT.

| Name           | Type   | Required | Description                                                    |
| -------------- | ------ | -------- | -------------------------------------------------------------- |
| `claimsFormat` | object | true     | Format in which the Hasura claims will be present.             |
| `location`     | string | true     | Pointer to lookup the Hasura claims within the decoded claims. |

#### JWTClaimsFormat

#### JWTTokenLocation

Source of the Authorization token

| Name   | Type   | Required | Description |
| ------ | ------ | -------- | ----------- |
| `type` | string | true     |             |

#### JWTCookieLocation

Get the token from the Cookie header under the specificied cookie name.

| Name   | Type   | Required | Description |
| ------ | ------ | -------- | ----------- |
| `type` | string | true     |             |
| `name` | string | true     |             |

#### JWTHeaderLocation

Custom header from where the header should be parsed from.

| Name   | Type   | Required | Description |
| ------ | ------ | -------- | ----------- |
| `type` | string | true     |             |
| `name` | string | true     |             |

#### JWTKey

JWT key configuration according to which the incoming JWT will be decoded.

| Name    | Type   | Required | Description                                                            |
| ------- | ------ | -------- | ---------------------------------------------------------------------- |
| `fixed` | object | true     | JWT Secret config according to which the incoming JWT will be decoded. |

#### JWTKeyConfig

JWT Secret config according to which the incoming JWT will be decoded.

| Name        | Type   | Required | Description                           |
| ----------- | ------ | -------- | ------------------------------------- |
| `algorithm` | object | true     | The algorithm used to decode the JWT. |
| `key`       | object | true     | The key to use for decoding the JWT.  |

#### JWTAlgorithm

The algorithm used to decode the JWT.

#### EnvironmentValue

Either a literal string or a reference to a Hasura secret

| Name    | Type   | Required | Description |
| ------- | ------ | -------- | ----------- |
| `value` | string | true     |             |

| Name           | Type   | Required | Description |
| -------------- | ------ | -------- | ----------- |
| `valueFromEnv` | string | true     |             |

| Name         | Type   | Required | Description |
| ------------ | ------ | -------- | ----------- |
| `jwkFromUrl` | string | true     |             |
### CompatibilityConfig

The compatibility configuration of the Hasura metadata.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `kind` | string | true |  |
| `date` | object | true | Any backwards incompatible changes made to Hasura DDN after this date won't impact the metadata. |

### AuthConfig

Definition of the authentication configuration used by the API server.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `kind` | string | true |  |
| `version` | string | true |  |
| `definition` | object | true | Definition of the authentication configuration used by the API server. |

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `allowRoleEmulationBy` | object | false |  |
| `mode` | object | true | The configuration for the authentication mode to use - webhook or JWT. |

Examples:

```yaml
allowRoleEmulationBy: admin
mode:
  webhook:
    url: http://auth_hook:3050/validate-request
    method: Post

```

#### AuthModeConfig

The configuration for the authentication mode to use - webhook or JWT.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `webhook` | object | true | The configuration of the authentication webhook. |

#### AuthHookConfig

The configuration of the authentication webhook.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `url` | string | true | The URL of the authentication webhook. |
| `method` | object | true | The HTTP method to be used to make the request to the auth hook. |

Examples:

```yaml
url: http://auth_hook:3050/validate-request
method: Post

```

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `jwt` | object | true | JWT config according to which the incoming JWT will be verified and decoded to extract the session variable claims. |

#### JWTConfig

JWT config according to which the incoming JWT will be verified and decoded to extract the session variable claims.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `audience` | array,null | false | Optional validation to check that the `aud` field is a member of the `audience` recieved, otherwise will throw error. |
| `issuer` | string,null | false | Optional validation to check that the `iss` field is a member of the `iss` received, otherwise will throw error. |
| `allowedSkew` | integer,null | false | Allowed leeway (in seconds) to the `exp` validation to account for clock skew. |
| `claimsConfig` | object | true | Claims config. Either specified via `claims_mappings` or `claims_namespace_path` |
| `tokenLocation` | object | true | Source of the JWT authentication token. |
| `key` | object | true | Mode according to which the JWT auth is configured. |

Examples:

```yaml
audience: null
issuer: null
allowedSkew: null
claimsConfig:
  namespace:
    claimsFormat: Json
    location: /https:~1~1hasura.io~1jwt~1claims
tokenLocation:
  type: BearerAuthorization
key:
  fixed:
    algorithm: HS256
    key:
      value: token

```

#### JWTClaimsConfig

Config to describe how/where the engine should look for the claims within the decoded token.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `locations` | object | true | Can be used when Hasura claims are not all present in the single object, but individual claims are provided a JSON pointer within the decoded JWT and optionally a default value. |

#### JWTClaimsMap

Can be used when Hasura claims are not all present in the single object, but individual claims are provided a JSON pointer within the decoded JWT and optionally a default value.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `x-hasura-default-role` | object | true | JSON pointer to lookup the default role within the decoded JWT. |
| `x-hasura-allowed-roles` | object | true | JSON pointer to lookup the allowed roles within the decoded JWT. |

#### JWTClaimsMappingEntry

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `literal` | string | true |  |

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `path` | object | true |  |

#### JWTClaimsMappingPathEntry

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `path` | string | true | JSON pointer to find the particular claim in the decoded JWT token. |
| `default` | object | false | Default value to be used when no value is found when looking up the value using the `path`. |

#### JWTClaimsMappingEntry

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `literal` | array | true |  |

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `path` | object | true |  |

#### JWTClaimsMappingPathEntry

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `path` | string | true | JSON pointer to find the particular claim in the decoded JWT token. |
| `default` | array,null | false | Default value to be used when no value is found when looking up the value using the `path`. |

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `namespace` | object | true | Used when all of the Hasura claims are present in a single object within the decoded JWT. |

#### JWTClaimsNamespace

Used when all of the Hasura claims are present in a single object within the decoded JWT.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `claimsFormat` | object | true | Format in which the Hasura claims will be present. |
| `location` | string | true | Pointer to lookup the Hasura claims within the decoded claims. |

#### JWTClaimsFormat

#### JWTTokenLocation

Source of the Authorization token

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `type` | string | true |  |

#### JWTCookieLocation

Get the token from the Cookie header under the specificied cookie name.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `type` | string | true |  |
| `name` | string | true |  |

#### JWTHeaderLocation

Custom header from where the header should be parsed from.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `type` | string | true |  |
| `name` | string | true |  |

#### JWTKey

JWT key configuration according to which the incoming JWT will be decoded.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `fixed` | object | true | JWT Secret config according to which the incoming JWT will be decoded. |

#### JWTKeyConfig

JWT Secret config according to which the incoming JWT will be decoded.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `algorithm` | object | true | The algorithm used to decode the JWT. |
| `key` | object | true | The key to use for decoding the JWT. |

#### JWTAlgorithm

The algorithm used to decode the JWT.

#### EnvironmentValue

Either a literal string or a reference to a Hasura secret

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `value` | string | true |  |

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `valueFromEnv` | string | true |  |

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `jwkFromUrl` | string | true |  |

