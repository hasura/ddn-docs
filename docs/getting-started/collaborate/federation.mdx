---
sidebar_position: 3
sidebar_label: Onboard Teams
description: "Learn how to invite others to a collaborate on a subgraph."
keywords:
  - hasura ddn
  - graphql api
  - quickstart
  - getting started
  - guide
  - collaborate
  - federation
  - teams
  - onboard
toc_max_heading_level: 4
---

import Thumbnail from "@site/src/components/Thumbnail";

# Onboard Teams

## Introduction

:::info Only available on DDN Advanced

In order to add subgraph collaborators, your project must be a [DDN Advanced project](https://hasura.io/pricing/ddn).

:::

Hasura DDN provides a concept of [subgraph](/project-configuration/subgraphs/#introduction) which allows you to manage
your Hasura metadata more efficiently by allowing it to be split based on ownership. Hasura DDN allows multiple users
and teams to [work together as collaborators](/getting-started/collaborate/invite.mdx) on subgraphs by assigning each
user specific roles and permissions.

In this guide, you'll learn how to onboard multiple teams into a collaborative project using a supergraph. This approach
allows for efficient collaboration making it easier to manage and scale your project as more teams are added.

## Collaboration Scenario

Let's imagine an example with two teams: The Fulfillment Team and the UX team, and you as the supergraph admin. The
Fulfillment Team is responsible for products and orders, whereas the UX handles everything related to users.

| Team | Name        | Responsibilities |
|------|-------------|------------------|
| 1    | Fulfillment | Products, Orders |
| 2    | UX          | Users            |

The Fulfillment team is already using Hasura DDN and has created a supergraph project with their Products and Orders
[models](/supergraph-modeling/models.mdx) enabled.

When the UX Team joins the project, you'll use the [CLI](/cli/installation.mdx) to create a new subgraph for them,
named `ux` and [invite developers](/getting-started/collaborate/invite.mdx) from the team to collaborate on this
subgraph via the console.

The UX team will start by initializing a new local DDN project with their own new version control repository and set
the project context to match the existing project set up by the Fulfillment team.

The UX team will then set up their data connector in their subgraph, track the `Users` model, deploy the connector,
then create and apply a new subgraph build which will be added to the supergraph.

The UX team can also add relationships and permissions in their that integrate with the Fulfillment team's existing
subgraphs too.

This process can be easily repeated for any additional teams, allowing each team to contribute their models and features
while maintaining a cohesive project structure with a distributed workflow.

## Workflow

### Steps for supergraph admin

#### Step 1. Create a new subgraph

Using the CLI, create a new subgraph on your DDN project.

```bash title="In a project directory, run the following:"
ddn project subgraph create <subgraph-name>
```

#### Step 2. Invite collaborators

[Follow the steps ](/getting-started/collaborate/invite.mdx#invite-collaborators) to invite subgraph
collaborators. Take care to select the appropriate role — either **Admin** or **Developer** — for each subgraph
team member.

### Steps for subgraph collaborators

#### Step 1. Accept the invite

[Reference these docs](/getting-started/collaborate/invite.mdx#accept-invite) to accept an
invitation and explore the existing supergraph.

#### Step 2. Create a new local project

To get started with local development on your subgraph, create a new local project.

```bash title="Run the following:"
ddn supergraph init
```

With Hasura DDN, we understand that each team may have their own unique workflows and design patterns, so each team can
create a new repository for their new project; there is no need for all subgraphs to live in the same repository as the
existing supergraph.

In the next step, we'll map this local project to the existing cloud project.

#### Step 3. Set the project context

Using the CLI, set the project's context by passing its name to the following command.

```bash title="Pass the cloud project's name of the existing supergraph:"
ddn context set project <project-name>
```

#### Step 4. Create a new subgraph

You'll need to create a subgraph in your local metadata that matches the name of the subgraph created in the cloud
project by your supergraph admin. This ensures proper mapping between the metadata you generate and what is eventually
served by your cloud project.

```bash title="Create a subgraph matching the name of the subgraph provisioned for you by the supergraph admin and add it to your supergraph's configuration file:"
ddn subgraph init <subgraph-name> --dir <subgraph-name> --target-supergraph ./supergraph.yaml
```

#### Step 5. Add a data connector and track your models

You can add a new [native data connector](/connectors/overview.mdx) to your subgraph using the CLI. Data connectors are
what allow you to integrate various data sources to your API.

In the following sequence, we'll do a few things:

- Initialize a new data connector, which will allow you to connect a data source to your API.
- Introspect the source and create a configuration that your connector understands and can use to generate Hasura
  metadata.
- Track all the entities in your data source as either [models](/supergraph-modeling/models.mdx) or
  [commands](/supergraph-modeling/commands.mdx), which will then be available via your API.

```bash title="Run this command and follow the prompts for your connector:"
ddn connector init -i
```

```bash title="Then, introspect your data source to generate configuration files:"
ddn connector introspect <connector-name-from-previous-step>
```

```bash title="Finally, track all your resources:"
ddn connector-link add-resources "*"
```

:::info Run your supergraph locally

At this point, you can run the following command — with any adjustments made to the `--env-file` path — to start your
supergraph and data connector:

```bash
HASURA_DDN_PAT=$(ddn auth print-pat) docker compose --env-file .env up --build --watch
```

**Note: You'll only see your subgraph available locally. This is because your local supergraph only contains *your*
subgraph. You are free to iterate on it and make changes without causing disruption to other subgraphs or downstream
consumers. To test your subgraph within the project's supergraph, follow the next steps.**

:::

#### Step 6. Deploy the connector

You'll need to [deploy the connector](/getting-started/deployment/deploy-a-connector/) so its available in your cloud project.

#### Step 7. Test and apply the subgraph build

Finally, you'll need to create a build.

```bash
$ ddn subgraph build create --subgraph another_subgraph/subgraph.yaml --env-file another_subgraph/.env.another_subgraph.cloud
```
Please note the `Build Version` from the output of this command. We will need it in the next step. 

:::info To apply a build

```bash
$ ddn subgraph build apply <Build Version>
```

Only subgraph admins or supergraph admins can apply a subgraph build.
