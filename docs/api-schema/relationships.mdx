---
sidebar_position: 1
sidebar_label: Relationships
description: Hasura Data Relationships
keywords:
  - hasura
  - graphql
  - relationships
---

# Hasura Relationships

## Introduction

A relationship lets you extend objects with related models.

## Description

You can define a relationship between a source type and a target model.

To create a relationship, you will need to define a relationship kind object which has a name, the source type, a target model and the mapping between them.

A mapping defines the link between the source type’s field to the target model’s field.


### Metadata structure:

```json
{
        "kind": "relationship",
        "source": <Source>,
        "name": <RelationshipName>,
        "target": <RelationshipTarget>
        "mappings": [
            {
                "source": <RelationshipMappingSource>
                },
                "target": <RelationshipMappingTarget>
            }
        ]
    }
}
```

#### Metadata fields reference:

1. `RelationshipName` - `String` - The name of the relationship.

2. `Source` - `String` - Source type of the relationship.

3. `Target` - `String` - Target of the relationship.

4. `Mappings` - `[Object]` -

      Defines how the `Source` and `Target` should be connected. This field
      expects a list of objects.

      Schema -

      ```json
      {
         "source": <RelationshipMappingSource>,
         "target": <RelationshipMappingTarget>
      }
      ```

5. `RelationshipMappingSource` - `[Object]` -

      Accepts a field path to the source column of the relationship
      in the source type. A field path is a list of `FieldAccess`.
      The field path can be used to choose a specific field in the
      object.

      Schema -

      ```json
      {
         "fieldPath": [
            <FieldAccess>
         ]
      }
      ```


6. `RelationshipMappingTarget` - `[Object]` -

      Accepts a field path to the target column of the relationship
      in the target type.

      Schema -


      ```json
      {
         "modelField": [
            <FieldAccess>
         ]
      }
      ```

7. `FieldAccess` - `Object`

      Specifies how to access a field of a type.

      Schema -

      ```json
      {
        "fieldName": <FieldName>
      }
      ```



## Example

Let's add the following relationships to the above types.

1. `Array` relationship

```json
{
        "kind": "relationship",
        "source": "author",
        "name": "Articles",
        "target": {
            "modelName": "Articles",
            "relationshipType": "Array"
        },
        "mappings": [
            {
                "source": {
                    "fieldPath": [
                        {
                            "fieldName": "id"
                        }
                    ]
                },
                "target": {
                    "modelField": [
                        {
                            "fieldName": "author_id"
                        }
                    ]
                }
            }
        ]
    }
```


2. `Object` relationship

```json
{
        "kind": "relationship",
        "source": "article",
        "name": "Author",
        "target": {
            "modelName": "Authors",
            "relationshipType": "Object"
        },
        "mappings": [
            {
                "source": {
                    "fieldPath": [
                        {
                            "fieldName": "author_id"
                        }
                    ]
                },
                "target": {
                    "modelField": [
                        {
                            "fieldName": "id"
                        }
                    ]
                }
            }
        ]
    }
```

The resulting GraphQL schema will look as following:


```graphql
type Authors {
  author_id Int!
  first_name String!
  last_name String!
  articles: [Articles!]!
}

type Articles {
  id Int!
  author_id Int!
  title String!
  author: Authors
}
```

## Notes

1. Only relationships for models within the same data source are supported.
2. Only types to top-level model types relationships are supported.
3. Simple top-level type field to top-level model field mapping are supported.
