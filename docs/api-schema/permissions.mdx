---
sidebar_position: 1
sidebar_label: Permissions
description: Hasura Data Domain Permissions
keywords:
  - hasura
  - data
  - data domain specification
  - dds
  - permissions
  - access control
  - authorization
  - rbac
---

# Hasura Data Domain Permissions

## Introduction

Hasura let's you define access control or permissions on [models](./models.mdx)
and [output types](./types.mdx) in your data domain.

On models, you can define access control rules to specify which items in the
collection of models will be accessible to a role.

On output types, you can define access control rules to specifiy which fields of
the type is accessible to a role. Defining permissions on output types is
useful, as multiple models can return the same output type.

## Output Type Permissions

### Metadata Structure

```json
{
  "kind": "typeOutputPermissions",
  "typeName": "<TypeName>",
  "outputPermissions": {
    "<RoleName>": {
      "fields": [
        "field1",
        "field2",
      ]
    }
  }
}
```

- `TypeName` - name of the output type on which the permissions to be defined (in string)
- `RoleName` - name of the role for which permissions are defined (in string)

### Examples

To define permissions on an output type `article` for `admin` and `user` role -

```json
{
  "kind": "typeOutputPermissions",
  "typeName": "article",
  "outputPermissions": {
    "admin": {
      "fields": [
        "id",
        "title",
        "author_id"
      ]
    },
    "user": {
      "fields": [
        "id",
        "title",
      ]
    }
  }
}
```

If a role doesn't define any permissions for this type, then it won't be
accessible to that role.

## Model Select Permissions

### Metadata Structure

```json
{
  "kind": "modelSelectPermissions",
  "modelName": "<ModelName>",
  "selectPermissions": {
    "<RoleName>": {
      "filter": <ModelPredicate>
    },
    "<RoleName>": {
      "filter": <ModelPredicate>
    }
  }
}
```

- `ModelName`: name of the model to define permission on (as String)
- `RoleName`: name of the role to define permission of (as String)
- `ModelPredicate`: optional predicate to satisfy. This predicate can use
  operators supported by the modelâ€™s data source. If the filter is missing then
  all rows are returned. If the filter is present, then only the rows satisfying
  this filter expression are returned. (Reference of [ModelPredicate](./common-syntax.mdx#modelpredicate))

### Examples

```json
{
  "kind": "modelSelectPermissions",
  "modelName": "Articles",
  "selectPermissions": {
    "admin": {},
    "user_1": {
      "filter": {
        "fieldComparison": {
          "field": "author_id",
          "operator": "_eq",
          "value": {
            "sessionVariable": "x-hasura-user-id"
          }
        }
      }
    },
    "user_2": {
      "filter": {
        "and": [
          {
            "fieldComparison": {
              "field": "title",
              "operator": "like",
              "value": {
                "literal": "Functional"
              }
            }
          }
        ]
      }
    }
  }
}
```
