# Git Workflows


It's important to talk about federation in terms of how you will set up your version control as that will have a big
impact on how you work with your team and how you manage your API.

## Single repo vs multi repo federation

Many smaller projects will only need one subgraph which connects to one data source, with everything managed in one
repository. The subgraph would typically be named something like `app`, `default`, `main` or the name of the data
source it connects to.

However, larger projects may require multiple subgraphs, each connecting to different data sources, with each
subgraph managed in a repository for added governance, control and clean separation from other teams work. This is
where multi-repo federation comes in. Subgraphs would typically be named after the data domain they encapsulate, such as
`users`, `orders`, `products`, etc.

NOTES NOTES NOTES

## Federating subgraphs

### Creating a new Single subgraph Repo

Create a supergraph normally as per {link}

push to git repo

deploy to DDN as per {link}

Add collaborators to the DDN project with supergraph admin / developer permissions or subgraph admin / developer
permissions as per {link}

Add collaborators to the git repo with x permissions as per {link}

Anyone add new subgraphs normally as per {link} depending on permissions (clarify with perms - check if need to be
supergraph admin to CREATE subgraph)

Collaborators see joining below

### Joining an existing Single subgraph Repo

Should have access to the DDN project and the git repo with correct permissions

Collaborators clone the repo

note: add more subgraphs if you want in the same repo (clarify permissions)

Collaborators create subgraph build on DDN

Collaborators test with the build url

Collaborators apply the subgraph to the supergraph if permissions allow otherwise ask the admin to apply the subgraph


### Creating a new multi-repo setup

Create a supergraph normally as per {link}

No subgraphs except for globals

push to git repo - do not add collaborators to this repo

deploy to DDN as per {link}

Add collaborators to the DDN project with subgraph admin / developer permissions as per {link}

Collaborators see multi-repo federation below

### Joining an Existing repo setup

Accept invite to the DDN project

Create / join new supergraph repo

set supergraph context to the existing DDN project

if creating, add new subgraph normally as per {link}

create and push to NEW or existing repo. (maybe subgraph repo is a directory in another project - all ok)

create build on existing DDN

test with the build url

apply the subgraph to the supergraph if permissions allow otherwise ask the admin to apply the subgraph

## Connecting subgraphs with relationships

When you have multiple subgraphs either in a single or multi repo setup, you can types together using
relationships. This is done by creating a blah blah blah....

### Single repo relationships

no problem

### Multi repo relationships

No lsp. In the blind. Test on DDN.






other notes (ignore):
single repo / multi repo
Init a new subgraph (vs “add”)
Setting context
customizing prefixes
Building a subgraph
applying a subgraph
creating relationships to other subgraphs
