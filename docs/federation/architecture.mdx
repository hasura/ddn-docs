---
sidebar_position: 3
sidebar_label: Architecture
description: "Understand the architecture of subgraph federation in Hasura DDN and how it enables efficient data
management across multiple subgraphs, promoting a collaborative development environment."
keywords:
  - subgraph federation
  - supergraph architecture
  - data management
  - collaborative development
  - hasura ddn
  - graphql api
  - data connectors
  - subgraph composition
  - schema stitching
  - modular development
seoFrontMatterUpdated: true
---

# Architecture

import Thumbnail from "@site/src/components/Thumbnail";

## Introduction

Federation in Hasura DDN upgrades how you build and manage your API.

It is the process of combining multiple subgraphs into a single supergraph to create a unified GraphQL API that
provides access to all data domains through a single endpoint.

This architecture promotes more collaborative development and allows teams to independently develop and
deploy subgraphs while maintaining strong governance with permissions and access control on the development process.

### Subgraphs

In Hasura DDN, a subgraph represents a self-contained module of metadata and its accompanying data connector(s) which
encapsulates a specific data domain. Subgraphs can be built completely independently of each and also managed in
their own isolated repositories.

Subgraph fields which are exposed to the full supergraph can be prefixed to prevent conflicts in the schema.

Data is still able to be interlinked between subgraphs using relationships and the access thereof controlled
by permissions.

### Data connectors

[Data Connectors](/connectors/overview.mdx) connect subgraphs to their respective data sources. They act as the bridges
that translate GraphQL queries into the native language of the data source. Each subgraph can have one or more data
connectors. Data connectors are [available for a variety of data sources](https://hasura.io/connectors), including
databases, business logic functions, REST APIs, and GraphQL APIs. You can also create custom data connectors to
integrate with other data sources.

### Relationships

Defining a relationship allows you to make queries across linked information and across subgraphs. There are
differences to be aware of when working in a multi-repo setup or a single repo setup with regards to relationships.
Find out more about relationships [here](/supergraph-modeling/relationships.mdx). And more
multi-repo federation here regarding relationships [here](/federation/workflows/git-workflows.mdx).

### Subgraph Prefixing

To avoid collisions between GraphQL root fields and type names across different subgraphs, you can optionally customize
the prefixes for each. For example, if two subgraphs both have a `Users` type, you can apply different prefixes to
distinguish one from the other. This ensures that each subgraph remains unique and prevents any naming conflicts.

You can make these modifications in the `subgraph.yaml` file for a subgraph.

```yaml title="Add the highlighted lines:"
kind: Subgraph
version: v2
definition:
  name: my_subgraph
  generator:
    rootPath: .
    #highlight-start
    graphqlRootFieldPrefix: my_subgraph_
    graphqlTypeNamePrefix: My_subgraph_
    #highlight-end
```

By default, the `subgraph.yaml` file is generated without any prefixes. You can read more about these fields
[here](supergraph-modeling/build-configs.mdx#subgraph-subgraphgeneratorconfig).

<Thumbnail src="/img/federation/whole-supergraph-erd.png" alt="Create a DDN project" width="1000px" />

:::tip Read more about data connectors

For a detailed overview of data connectors, check out our [Data Connectors Overview page](/connectors/overview.mdx) ðŸ“š

:::

## Benefits

- **Modular Development:** Subgraphs promote modular development by allowing teams to independently develop, test, and
  deploy their code without impacting the functionality of other subgraphs. This modular approach simplifies code
  management and reduces the risk of breaking changes.
- **Independent Deployment:** Subgraphs can also be deployed individually, ensuring that updates to one subgraph do not
  require downtime for the entire supergraph. This flexibility allows for continuous integration and delivery (CI/CD)
  practices that accelerate feature releases.
- **Improved Collaboration:** Subgraphs allow different teams to focus on their specialized data domains, fostering
  collaboration by enabling them to share their APIs and data through a unified interface. This collaborative
  environment accelerates development and reduces friction between teams.
- **Strong Governance:** Hasura DDN provides robust governance features, such as permissions and access control, that
  ensure data integrity and security across subgraphs. These features enable teams to enforce data policies and
  restrictions, protecting sensitive information and maintaining compliance with regulatory requirements.
- **Efficient Data Management:** Federation simplifies data management by enabling teams to work with smaller, more
  manageable data domains. This approach reduces complexity and improves performance by optimizing data retrieval and
  processing. Teams can focus on their specific data requirements without being overwhelmed by the entire data schema.

## Example

Imagine an e-commerce application with separate subgraphs for product catalog management, user profile information, and
order processing.

1. **Product Catalog Subgraph:** A team dedicated to managing product information owns and maintains this subgraph. They
   use a dedicated PostgreSQL data connector to connect to a relational database containing product details, images, and
   inventory data.
2. **User Profile Subgraph:** The UX team owns this subgraph, using a MongoDB data connector to interact with a document
   database containing user profiles, preferences, and order history.
3. **Order Processing Subgraph:** Managed by the fulfillment team, this subgraph utilizes a custom TypeScript connector
   to handle business logic related to order creation, payment processing, and shipment tracking, integrating with
   external APIs and services.

Each subgraph is developed, tested, and deployed independently, allowing teams to focus on their specific data domains
without interfering with other teams' work. The supergraph combines these subgraphs into a unified API that provides
access to all data domains through a single GraphQL endpoint.

## Next steps

To learn more about building and deploying a supergraph using Hasura DDN, check out the
[getting started guide](/getting-started/build/index.mdx).
