---
sidebar_position: 6
sidebar_label: Permissions
description:
  "This page provides an understanding of how to define permissions, control access or set authorization rules on output
  types, models, and commands in your supergraph. It essentially makes management of roles and accessibility simple and
  efficient."
toc_max_heading_level: 4
keywords:
  - hasura
  - hasura permissions guide
  - api authorization
  - define permissions
  - model permissions
  - command permissions
  - data domains
  - api control rules
  - access management
seoFrontMatterUpdated: true
---

import Thumbnail from "@site/src/components/Thumbnail";

# Permissions

## Introduction

You can define permissions, (also known as access control or authorization rules) on [object types](./types.mdx),
[models](./models.mdx) and [commands](./commands.mdx) in your data domain.

The following types of permissions can be defined:

- `TypePermissions` define which fields are allowed to be accessed by a role. Defining permissions on output types is
  useful, as certain fields may be sensitive and should only be accessible to particular roles.
- `ModelPermissions` define which objects or rows within a model are allowed to be accessed by a role.
- `CommandPermissions` defines whether the command is executable by a role.

## Metadata structure


### TypePermissions

Definition of permissions for an OpenDD type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `TypePermissions` | true |  |
| `version` | `v1` | true |  |
| `definition` | [TypePermissionsV1](#typepermissionsv1) | true |  |



### TypePermissionsV1

Definition of permissions for an OpenDD type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string | true | The name of the type for which permissions are being defined. Must be an object type. |
| `permissions` | [[TypePermission](#typepermission)] | true | A list of type permissions, one for each role. |

 **Examples:**

```yaml
typeName: article
permissions:
  - role: admin
    output:
      allowedFields:
        - article_id
        - author_id
        - title
  - role: user
    output:
      allowedFields:
        - article_id
        - author_id
```


### TypePermission

Defines permissions for a particular role for a type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `role` | string | true | The role for which permissions are being defined. |
| `output` | [TypeOutputPermission](#typeoutputpermission) / null | false | Permissions for this role when this type is used in an output context. If null, this type is inaccessible for this role in an output context. |

 **Examples:**

```yaml
role: user
output:
  allowedFields:
    - article_id
    - author_id
```


### TypeOutputPermission

Permissions for a type for a particular role when used in an output context.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `allowedFields` | [string] | true | Fields of the type that are accessible for a role |



### Command

The definition of a command. A command is a user-defined operation which can take arguments and returns an output. The semantics of a command are opaque to the Open DD specification.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Command` | true |  |
| `version` | `v1` | true |  |
| `definition` | [CommandV1](#commandv1) | true |  |



### CommandV1

Definition of an OpenDD Command, which is a custom operation that can take arguments and returns an output. The semantics of a command are opaque to OpenDD.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the command. |
| `outputType` | string | true | The return type of the command. |
| `arguments` | [[ArgumentDefinition](#argumentdefinition)] | false | The list of arguments accepted by this command. Defaults to no arguments. |
| `source` | [CommandSource](#commandsource) / null | false | The source configuration for this command. |
| `graphql` | [CommandGraphQlDefinition](#commandgraphqldefinition) / null | false | Configuration for how this command should appear in the GraphQL schema. |
| `description` | string | false | The description of the command. Gets added to the description of the command's root field in the graphql schema. |

 **Examples:**

```yaml
name: get_latest_article
outputType: commandArticle
arguments: []
source:
  dataConnectorName: data_connector
  dataConnectorCommand:
    function: latest_article
  argumentMapping: {}
graphql:
  rootFieldName: getLatestArticle
  rootFieldKind: Query
description: Get the latest article
```


### CommandGraphQlDefinition

The definition of how a command should appear in the GraphQL API.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `rootFieldName` | string | true | The name of the graphql root field to use for this command. |
| `rootFieldKind` | `Query` / `Mutation` | true | Whether to put this command in the Query or Mutation root of the GraphQL API. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this command root field is deprecated. If set, this will be added to the graphql schema as a deprecated field. |

 **Examples:**

```yaml
rootFieldName: getLatestArticle
rootFieldKind: Query
```


### CommandSource

Description of how a command maps to a particular data connector

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `dataConnectorName` | string | true | The name of the data connector backing this command. |
| `dataConnectorCommand` | [DataConnectorCommand](#dataconnectorcommand) | true | The function/procedure in the data connector that backs this command. |
| `argumentMapping` | [undefined](#undefined) | false | Mapping from command argument names to data connector table argument names. |

 **Examples:**

```yaml
dataConnectorName: data_connector
dataConnectorCommand:
  function: latest_article
argumentMapping: {}
```


### undefined

Mapping from command argument names to data connector table argument names.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | string | false |  |



### DataConnectorCommand

The function/procedure in the data connector that backs this command.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `function` | string | false |  |
| `procedure` | string | false |  |



### ObjectBooleanExpressionType

Definition of a type representing a boolean expression on an Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ObjectBooleanExpressionType` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ObjectBooleanExpressionTypeV1](#objectbooleanexpressiontypev1) | true |  |



### ObjectBooleanExpressionTypeV1

Definition of a type representing a boolean expression on an Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name to give this object boolean expression type, used to refer to it elsewhere in the metadata. Must be unique across all types defined in this subgraph. |
| `objectType` | string | true | The name of the object type that this boolean expression applies to. |
| `dataConnectorName` | string | true | The data connector this boolean expression type is based on. |
| `dataConnectorObjectType` | string | true | The object type in the data connector's schema this boolean expression type is based on. |
| `comparableFields` | [[ComparableField](#comparablefield)] | true | The list of fields of the object type that can be used for comparison when evaluating this boolean expression. |
| `graphql` | [ObjectBooleanExpressionTypeGraphQlConfiguration](#objectbooleanexpressiontypegraphqlconfiguration) / null | false | Configuration for how this object type should appear in the GraphQL schema. |

 **Examples:**

```yaml
name: AuthorBoolExp
objectType: Author
dataConnectorName: my_db
dataConnectorObjectType: author
comparableFields:
  - fieldName: article_id
    operators:
      enableAll: true
  - fieldName: title
    operators:
      enableAll: true
  - fieldName: author_id
    operators:
      enableAll: true
graphql:
  typeName: Author_bool_exp
```


### ObjectBooleanExpressionTypeGraphQlConfiguration

GraphQL configuration of an Open DD boolean expression type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string | true | The name to use for the GraphQL type representation of this boolean expression type. |



### ComparableField

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldName` | string | true |  |
| `operators` | [EnableAllOrSpecific](#enableallorspecific) | true |  |



### EnableAllOrSpecific


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `enableAll` | boolean | false |  |
| `enableSpecific` | [string] | false |  |



### ScalarType

Definition of a user-defined scalar type that that has opaque semantics.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ScalarType` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ScalarTypeV1](#scalartypev1) | true |  |



### ScalarTypeV1

Definition of a user-defined scalar type that that has opaque semantics.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name to give this scalar type, used to refer to it elsewhere in the metadata. Must be unique across all types defined in this subgraph. |
| `graphql` | [ScalarTypeGraphQLConfiguration](#scalartypegraphqlconfiguration) / null | false | Configuration for how this scalar type should appear in the GraphQL schema. |
| `description` | string | false | The description of this scalar. Gets added to the description of the scalar's definition in the graphql schema. |

 **Examples:**

```yaml
name: CustomString
graphql:
  typeName: CustomString
description: A custom string type
```


### ScalarTypeGraphQLConfiguration

GraphQL configuration of an Open DD scalar type

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string | true | The name of the GraphQl type to use for this scalar. |



### CompatibilityConfig

The compatibility configuration of the Hasura metadata.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `CompatibilityConfig` | true |  |
| `date` | string | true | Any backwards incompatible changes made to Hasura DDN after this date won't impact the metadata. |



### AuthHookConfig

The configuration of the authentication webhook.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `url` | string | true | The URL of the authentication webhook. |
| `method` | `Get` / `Post` | true | The HTTP method to be used to make the request to the auth hook. |

 **Examples:**

```yaml
url: http://auth_hook:3050/validate-request
method: Post
```


### JWTClaimsMappingPathEntry

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `path` | string | true | JSON pointer to find the particular claim in the decoded JWT token. |
| `default` | string / null | false | Default value to be used when no value is found when looking up the value using the `path`. |



### JWTClaimsMappingEntry

JSON pointer to lookup the default role within the decoded JWT.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `literal` | string | false |  |
| `path` | [JWTClaimsMappingPathEntry](#jwtclaimsmappingpathentry) | false |  |



### JWTClaimsMap

Can be used when Hasura claims are not all present in the single object, but individual claims are provided a JSON pointer within the decoded JWT and optionally a default value.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `x-hasura-default-role` | [JWTClaimsMappingEntry](#jwtclaimsmappingentry) | true | JSON pointer to lookup the default role within the decoded JWT. |
| `x-hasura-allowed-roles` | [JWTClaimsMappingEntry](#jwtclaimsmappingentry) | true | JSON pointer to lookup the allowed roles within the decoded JWT. |



### JWTClaimsFormat

Format in which the Hasura claims will be present.


**One of the following values:**

| Value | Description |
|-----|-----|
| `Json` | Claims will be in the JSON format. |
| `StringifiedJson` | Claims will be in the Stringified JSON format. |



### JWTClaimsNamespace

Used when all of the Hasura claims are present in a single object within the decoded JWT.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `claimsFormat` | [JWTClaimsFormat](#jwtclaimsformat) | true | Format in which the Hasura claims will be present. |
| `location` | string | true | Pointer to lookup the Hasura claims within the decoded claims. |



### JWTClaimsConfig

Claims config. Either specified via `claims_mappings` or `claims_namespace_path`


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `locations` | [JWTClaimsMap](#jwtclaimsmap) | false |  |
| `namespace` | [JWTClaimsNamespace](#jwtclaimsnamespace) | false |  |



### undefined

Get the bearer token from the `Authorization` header.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `type` | `BearerAuthorization` | true |  |



### JWTCookieLocation

Get the token from the Cookie header under the specificied cookie name.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `type` | `Cookie` | true |  |
| `name` | string | true |  |



### JWTHeaderLocation

Custom header from where the header should be parsed from.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `type` | `Header` | true |  |
| `name` | string | true |  |



### JWTTokenLocation

Source of the JWT authentication token.


**One of the following values:**

| Value | Description |
|-----|-----|
| [undefined](#undefined) | Get the bearer token from the `Authorization` header. |
| [JWTCookieLocation](#jwtcookielocation) | Get the token from the Cookie header under the specificied cookie name. |
| [JWTHeaderLocation](#jwtheaderlocation) | Custom header from where the header should be parsed from. |



### JWTAlgorithm

The algorithm used to decode the JWT.


**One of the following values:**

| Value | Description |
|-----|-----|
| `HS256` | HMAC using SHA-256 |
| `HS384` | HMAC using SHA-384 |
| `HS512` | HMAC using SHA-512 |
| `ES256` | ECDSA using SHA-256 |
| `ES384` | ECDSA using SHA-384 |
| `RS256` | RSASSA-PKCS1-v1_5 using SHA-256 |
| `RS384` | RSASSA-PKCS1-v1_5 using SHA-384 |
| `RS512` | RSASSA-PKCS1-v1_5 using SHA-512 |
| `PS256` | RSASSA-PSS using SHA-256 |
| `PS384` | RSASSA-PSS using SHA-384 |
| `PS512` | RSASSA-PSS using SHA-512 |
| `EdDSA` | Edwards-curve Digital Signature Algorithm (EdDSA) |



### EnvironmentValue

The key to use for decoding the JWT.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `value` | string | false |  |
| `valueFromEnv` | string | false |  |



### JWTKeyConfig

JWT Secret config according to which the incoming JWT will be decoded.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `algorithm` | [JWTAlgorithm](#jwtalgorithm) | true | The algorithm used to decode the JWT. |
| `key` | [EnvironmentValue](#environmentvalue) | true | The key to use for decoding the JWT. |



### JWTKey

Mode according to which the JWT auth is configured.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fixed` | [JWTKeyConfig](#jwtkeyconfig) | false |  |
| `jwkFromUrl` | string | false |  |



### JWTConfig

JWT config according to which the incoming JWT will be verified and decoded to extract the session variable claims.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `audience` | [string] | false | Optional validation to check that the `aud` field is a member of the `audience` recieved, otherwise will throw error. |
| `issuer` | string | false | Optional validation to check that the `iss` field is a member of the `iss` received, otherwise will throw error. |
| `allowedSkew` | integer | false | Allowed leeway (in seconds) to the `exp` validation to account for clock skew. |
| `claimsConfig` | [JWTClaimsConfig](#jwtclaimsconfig) | true | Claims config. Either specified via `claims_mappings` or `claims_namespace_path` |
| `tokenLocation` | [JWTTokenLocation](#jwttokenlocation) | true | Source of the JWT authentication token. |
| `key` | [JWTKey](#jwtkey) | true | Mode according to which the JWT auth is configured. |

 **Examples:**

```yaml
audience: null
issuer: null
allowedSkew: null
claimsConfig:
  namespace:
    claimsFormat: Json
    location: /https:~1~1hasura.io~1jwt~1claims
tokenLocation:
  type: BearerAuthorization
key:
  fixed:
    algorithm: HS256
    key:
      value: token
```


### AuthModeConfig

The configuration for the authentication mode to use - webhook or JWT.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `webhook` | [AuthHookConfig](#authhookconfig) | false |  |
| `jwt` | [JWTConfig](#jwtconfig) | false |  |



### AuthConfigV1

Definition of the authentication configuration used by the API server.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `allowRoleEmulationBy` | string / null | false |  |
| `mode` | [AuthModeConfig](#authmodeconfig) | true |  |



### AuthConfig

Definition of the authentication configuration used by the API server.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `AuthConfig` | true |  |
| `version` | `v1` | true |  |
| `definition` | [AuthConfigV1](#authconfigv1) | true |  |



### Deprecated

OpenDd configuration to indicate whether an object type field, relationship, model root field or command root field is deprecated.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `reason` | string | false | The reason for deprecation. |



### ObjectFieldDefinition

The definition of a field in a user-defined object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the field. This name is used both when referring to the field elsewhere in the metadata and when creating the corresponding GraphQl type. |
| `type` | string | true | The type of this field. This uses the GraphQL syntax to represent field types and must refer to one of the inbuilt OpenDd types or another user-defined type. |
| `description` | string | false | The description of this field. Gets added to the description of the field's definition in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this field is deprecated. If set, the deprecation status is added to the field's graphql schema. |



### ObjectTypeGraphQLConfiguration

GraphQL configuration of an Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string / null | false | The name to use for the GraphQL type representation of this object type when used in an output context. |
| `inputTypeName` | string / null | false | The name to use for the GraphQL type representation of this object type when used in an input context. |



### ColumnFieldMapping

The target column in a data connector object that a source field maps to.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the target column |



### ObjectFieldMapping

Source field directly maps to some column in the data connector.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `column` | [ColumnFieldMapping](#columnfieldmapping) | true |  |



### undefined

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | [ObjectFieldMapping](#objectfieldmapping) | false |  |



### DataConnectorTypeMapping

This defines the mapping of the fields of an object type to the corresponding columns of an object type in a data connector.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `dataConnectorName` | string | true |  |
| `dataConnectorObjectType` | string | true |  |
| `fieldMapping` | [undefined](#undefined) | false |  |



### ObjectTypeV1

Definition of a user-defined Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name to give this object type, used to refer to it elsewhere in the metadata. Must be unique across all types defined in this subgraph. |
| `fields` | [[ObjectFieldDefinition](#objectfielddefinition)] | true | The list of fields defined for this object type. |
| `globalIdFields` | [string] | false | The subset of fields that uniquely identify this object in the domain. Setting this property will automatically implement the GraphQL Relay Node interface for this object type and add an `id` global ID field. If setting this property, there must not be a field named `id` already present. |
| `graphql` | [ObjectTypeGraphQLConfiguration](#objecttypegraphqlconfiguration) / null | false | Configuration for how this object type should appear in the GraphQL schema. |
| `description` | string | false | The description of the object. Gets added to the description of the object's definition in the graphql schema. |
| `dataConnectorTypeMapping` | [[DataConnectorTypeMapping](#dataconnectortypemapping)] | false | Mapping of this object type to corresponding object types in various data connectors. |

 **Examples:**

```yaml
name: Author
fields:
  - name: author_id
    type: Int!
    description: The id of the author
  - name: first_name
    type: String
    description: The first name of the author
  - name: last_name
    type: String
    description: The last name of the author
description: An author of a book
globalIdFields:
  - author_id
graphql:
  typeName: Author
dataConnectorTypeMapping:
  - dataConnectorName: my_db
    dataConnectorObjectType: author
    fieldMapping:
      author_id:
        column:
          name: id
```


### ObjectType

Definition of a user-defined Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ObjectType` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ObjectTypeV1](#objecttypev1) | true |  |



### ArgumentDefinition

The definition of an argument for a field, command, or model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true |  |
| `type` | string | true |  |
| `description` | string | false |  |



### undefined

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | string | false |  |



### ModelSource

Description of how a model maps to a particular data connector

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `dataConnectorName` | string | true | The name of the data connector backing this model. |
| `collection` | string | true | The collection in the data connector that backs this model. |
| `argumentMapping` | [undefined](#undefined) | false |  |

 **Examples:**

```yaml
dataConnectorName: data_connector
collection: articles
```


### OrderableField

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldName` | string | true |  |
| `orderByDirections` | [EnableAllOrSpecific](#enableallorspecific) | true |  |



### SelectUniqueGraphQlDefinition

The definition of the GraphQL API for selecting a unique row/object from a model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `queryRootField` | string | true | The name of the query root field for this API. |
| `uniqueIdentifier` | [string] | true | A set of fields which can uniquely identify a row/object in the model. |
| `description` | string | false | The description of the select unique graphql definition of the model. Gets added to the description of the select unique root field of the model in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this select unique query field is deprecated. If set, the deprecation status is added to the select unique root field's graphql schema. |



### SelectManyGraphQlDefinition

The definition of the GraphQL API for selecting rows from a model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `queryRootField` | string | true | The name of the query root field for this API. |
| `description` | string | false | The description of the select many graphql definition of the model. Gets added to the description of the select many root field of the model in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this select many query field is deprecated. If set, the deprecation status is added to the select many root field's graphql schema. |



### ModelGraphQlDefinition

The definition of how a model appears in the GraphQL API.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `selectUniques` | [[SelectUniqueGraphQlDefinition](#selectuniquegraphqldefinition)] | true | For each select unique defined here, a query root field is added to the GraphQL API that can be used to select a unique object from the model. |
| `selectMany` | [SelectManyGraphQlDefinition](#selectmanygraphqldefinition) / null | false | Select many configuration for a model adds a query root field to the GraphQl API that can be used to retrieve multiple objects from the model. |
| `argumentsInputType` | string / null | false | The type name of the input type used to hold the arguments of the model. |
| `orderByExpressionType` | string / null | false | The type name of the order by expression input type. |

 **Examples:**

```yaml
selectUniques:
  - queryRootField: ArticleByID
    uniqueIdentifier:
      - article_id
    description: Description for the select unique ArticleByID
selectMany:
  queryRootField: ArticleMany
  description: Description for the select many ArticleMany
orderByExpressionType: Article_Order_By
```


### ModelV1

The definition of a data model. A data model is a collection of objects of a particular type. Models can support one or more CRUD operations.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the data model. |
| `objectType` | string | true | The type of the objects of which this model is a collection. |
| `globalIdSource` | boolean | false | Whether this model should be used as the global ID source for all objects of its type. |
| `arguments` | [[ArgumentDefinition](#argumentdefinition)] | false | A list of arguments accepted by this model. Defaults to no arguments. |
| `source` | [ModelSource](#modelsource) / null | false | The source configuration for this model. |
| `filterExpressionType` | string / null | false | The boolean expression type that should be used to perform filtering on this model. |
| `orderableFields` | [[OrderableField](#orderablefield)] | true | A list of fields that can be used to order the objects in this model. |
| `graphql` | [ModelGraphQlDefinition](#modelgraphqldefinition) / null | false | Configuration for how this model should appear in the GraphQL schema. |
| `description` | string | false | The description of the model. Gets added to the description of the model in the graphql schema. |

 **Examples:**

```yaml
name: Articles
objectType: article
globalIdSource: true
arguments: []
source:
  dataConnectorName: data_connector
  collection: articles
  argumentMapping: {}
filterExpressionType: Article_bool_exp
orderableFields:
  - fieldName: article_id
    orderByDirections:
      enableAll: true
  - fieldName: title
    orderByDirections:
      enableAll: true
  - fieldName: author_id
    orderByDirections:
      enableAll: true
graphql:
  selectUniques:
    - queryRootField: ArticleByID
      uniqueIdentifier:
        - article_id
      description: Description for the select unique ArticleByID
  selectMany:
    queryRootField: ArticleMany
    description: Description for the select many ArticleMany
  orderByExpressionType: Article_Order_By
description: Description for the model Articles
```


### Model

The definition of a data model. A data model is a collection of objects of a particular type. Models can support one or more CRUD operations.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Model` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ModelV1](#modelv1) | true |  |



### RelationshipType

Type of the relationship - object or array.


**One of the following values:**

| Value | Description |
|-----|-----|
| `Object` | Select one related object from the target. |
| `Array` | Select multiple related objects from the target. |



### ModelRelationshipTarget

The target model for a relationship.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the data model. |
| `namespace` | string | false |  |
| `subgraph` | string | false | The subgraph of the target model. Defaults to the current subgraph. |
| `relationshipType` | [RelationshipType](#relationshiptype) | true | Type of the relationship - object or array. |



### CommandRelationshipTarget

The target command for a relationship.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the command. |
| `subgraph` | string | false | The subgraph of the target command. Defaults to the current subgraph. |



### RelationshipTarget

The target of the relationship.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `model` | [ModelRelationshipTarget](#modelrelationshiptarget) | false |  |
| `command` | [CommandRelationshipTarget](#commandrelationshiptarget) | false |  |



### ValueExpression

An expression which evaluates to a value that can be used in permissions.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `literal` |  | false |  |
| `sessionVariable` | string | false |  |



### RelationshipSourceFieldAccess

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldName` | string | true |  |



### RelationshipMappingSource

The source configuration for this relationship mapping.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `value` | [ValueExpression](#valueexpression) | false |  |
| `fieldPath` | [[RelationshipSourceFieldAccess](#relationshipsourcefieldaccess)] | false |  |



### ArgumentMappingTarget

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `argumentName` | string | true |  |



### RelationshipMappingTarget

The target configuration for this relationship mapping.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `argument` | [ArgumentMappingTarget](#argumentmappingtarget) | false |  |
| `modelField` | [[RelationshipSourceFieldAccess](#relationshipsourcefieldaccess)] | false |  |



### RelationshipMapping

Definition of a how a particular field in the source maps to a target field or argument.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `source` | [RelationshipMappingSource](#relationshipmappingsource) | true | The source configuration for this relationship mapping. |
| `target` | [RelationshipMappingTarget](#relationshipmappingtarget) | true | The target configuration for this relationship mapping. |

 **Examples:**

```yaml
source:
  fieldPath:
    - fieldName: author_id
target:
  modelField:
    - fieldName: author_id
```


### RelationshipV1

Definition of a relationship on an OpenDD type which allows it to be extended with related models or commands.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the relationship. |
| `source` | string | true | The source type of the relationship. |
| `target` | [RelationshipTarget](#relationshiptarget) | true | The target of the relationship. |
| `mapping` | [[RelationshipMapping](#relationshipmapping)] | true | The mapping configuration of source to target for the relationship. |
| `description` | string | false | The description of the relationship. Gets added to the description of the relationship in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this relationship is deprecated. If set, the deprecation status is added to the relationship field's graphql schema. |

 **Examples:**

```yaml
name: Articles
source: author
target:
  model:
    name: Articles
    namespace: null
    subgraph: null
    relationshipType: Array
mapping:
  - source:
      fieldPath:
        - fieldName: author_id
    target:
      modelField:
        - fieldName: author_id
description: Articles written by an author
```


### Relationship

Definition of a relationship on an OpenDD type which allows it to be extended with related models or commands.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Relationship` | true |  |
| `version` | `v1` | true |  |
| `definition` | [RelationshipV1](#relationshipv1) | true |  |

### ModelPermissions

Definition of permissions for an OpenDD model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ModelPermissions` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ModelPermissionsV1](#modelpermissionsv1) | true |  |



### ModelPermissionsV1

Definition of permissions for an OpenDD model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `modelName` | string | true | The name of the model for which permissions are being defined. |
| `permissions` | [[ModelPermission](#modelpermission)] | true | A list of model permissions, one for each role. |

 **Examples:**

```yaml
modelName: Articles
permissions:
  - role: admin
    select:
      filter: null
  - role: user
    select:
      filter:
        fieldComparison:
          field: author_id
          operator: _eq
          value:
            sessionVariable: x-hasura-user-id
```


### ModelPermission

Defines the permissions for an OpenDD model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `role` | string | true | The role for which permissions are being defined. |
| `select` | [SelectPermission](#selectpermission) / null | false | The permissions for selecting from this model for this role. If this is null, the role is not allowed to query the model. |

 **Examples:**

```yaml
role: user
select:
  filter:
    fieldComparison:
      field: author_id
      operator: _eq
      value:
        sessionVariable: x-hasura-user-id
  argument_presets:
    - field: likes_dogs
      value:
        literal: true
```


### SelectPermission

Defines the permissions for selecting a model for a role.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `filter` | null / [ModelPredicate](#modelpredicate) | true | Filter expression when selecting rows for this model. Null filter implies all rows are selectable. |
| `argumentPresets` | [[ArgumentPreset](#argumentpreset)] | false | Preset values for arguments for this role |



### ArgumentPreset

Preset value for an argument

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `argument` | string | true | Argument name for preset |
| `value` | [ValueExpression](#valueexpression) | true | Value for preset |



### ModelPredicate

A predicate that can be used to restrict the objects returned when querying a model.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldComparison` | [FieldComparisonPredicate](#fieldcomparisonpredicate) | false |  |
| `fieldIsNull` | [undefined](#undefined) | false |  |
| `relationship` | [RelationshipPredicate](#relationshippredicate) | false |  |
| `and` | [[ModelPredicate](#modelpredicate)] | false |  |
| `or` | [[ModelPredicate](#modelpredicate)] | false |  |
| `not` | [ModelPredicate](#modelpredicate) | false |  |



### RelationshipPredicate

Relationship predicate filters objects of a source model based on a predicate on the related model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the relationship of the object type of the model to follow. |
| `predicate` | [ModelPredicate](#modelpredicate) / null | false | The predicate to apply on the related objects. If this is null, then the predicate evaluates to true as long as there is at least one related object present. |



### undefined

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `field` | string | true |  |



### FieldComparisonPredicate

Field comparision predicate filters objects based on a field value.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `field` | string | true | The field name of the object type of the model to compare. |
| `operator` | string | true | The name of the operator to use for comparison. |
| `value` | [ValueExpression](#valueexpression) | true | The value expression to compare against. |



### Relationship

Definition of a relationship on an OpenDD type which allows it to be extended with related models or commands.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Relationship` | true |  |
| `version` | `v1` | true |  |
| `definition` | [RelationshipV1](#relationshipv1) | true |  |



### RelationshipV1

Definition of a relationship on an OpenDD type which allows it to be extended with related models or commands.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the relationship. |
| `source` | string | true | The source type of the relationship. |
| `target` | [RelationshipTarget](#relationshiptarget) | true | The target of the relationship. |
| `mapping` | [[RelationshipMapping](#relationshipmapping)] | true | The mapping configuration of source to target for the relationship. |
| `description` | string | false | The description of the relationship. Gets added to the description of the relationship in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this relationship is deprecated. If set, the deprecation status is added to the relationship field's graphql schema. |

 **Examples:**

```yaml
name: Articles
source: author
target:
  model:
    name: Articles
    namespace: null
    subgraph: null
    relationshipType: Array
mapping:
  - source:
      fieldPath:
        - fieldName: author_id
    target:
      modelField:
        - fieldName: author_id
description: Articles written by an author
```


### RelationshipMapping

Definition of a how a particular field in the source maps to a target field or argument.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `source` | [RelationshipMappingSource](#relationshipmappingsource) | true | The source configuration for this relationship mapping. |
| `target` | [RelationshipMappingTarget](#relationshipmappingtarget) | true | The target configuration for this relationship mapping. |

 **Examples:**

```yaml
source:
  fieldPath:
    - fieldName: author_id
target:
  modelField:
    - fieldName: author_id
```


### RelationshipMappingTarget

The target configuration for this relationship mapping.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `argument` | [ArgumentMappingTarget](#argumentmappingtarget) | false |  |
| `modelField` | [[RelationshipSourceFieldAccess](#relationshipsourcefieldaccess)] | false |  |



### ArgumentMappingTarget

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `argumentName` | string | true |  |



### RelationshipMappingSource

The source configuration for this relationship mapping.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `value` | [ValueExpression](#valueexpression) | false |  |
| `fieldPath` | [[RelationshipSourceFieldAccess](#relationshipsourcefieldaccess)] | false |  |



### RelationshipSourceFieldAccess

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldName` | string | true |  |



### ValueExpression

An expression which evaluates to a value that can be used in permissions.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `literal` |  | false |  |
| `sessionVariable` | string | false |  |



### RelationshipTarget

The target of the relationship.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `model` | [ModelRelationshipTarget](#modelrelationshiptarget) | false |  |
| `command` | [CommandRelationshipTarget](#commandrelationshiptarget) | false |  |



### CommandRelationshipTarget

The target command for a relationship.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the command. |
| `subgraph` | string | false | The subgraph of the target command. Defaults to the current subgraph. |



### ModelRelationshipTarget

The target model for a relationship.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the data model. |
| `namespace` | string | false |  |
| `subgraph` | string | false | The subgraph of the target model. Defaults to the current subgraph. |
| `relationshipType` | [RelationshipType](#relationshiptype) | true | Type of the relationship - object or array. |



### RelationshipType

Type of the relationship - object or array.


**One of the following values:**

| Value | Description |
|-----|-----|
| `Object` | Select one related object from the target. |
| `Array` | Select multiple related objects from the target. |



### Model

The definition of a data model. A data model is a collection of objects of a particular type. Models can support one or more CRUD operations.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Model` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ModelV1](#modelv1) | true |  |



### ModelV1

The definition of a data model. A data model is a collection of objects of a particular type. Models can support one or more CRUD operations.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the data model. |
| `objectType` | string | true | The type of the objects of which this model is a collection. |
| `globalIdSource` | boolean | false | Whether this model should be used as the global ID source for all objects of its type. |
| `arguments` | [[ArgumentDefinition](#argumentdefinition)] | false | A list of arguments accepted by this model. Defaults to no arguments. |
| `source` | [ModelSource](#modelsource) / null | false | The source configuration for this model. |
| `filterExpressionType` | string / null | false | The boolean expression type that should be used to perform filtering on this model. |
| `orderableFields` | [[OrderableField](#orderablefield)] | true | A list of fields that can be used to order the objects in this model. |
| `graphql` | [ModelGraphQlDefinition](#modelgraphqldefinition) / null | false | Configuration for how this model should appear in the GraphQL schema. |
| `description` | string | false | The description of the model. Gets added to the description of the model in the graphql schema. |

 **Examples:**

```yaml
name: Articles
objectType: article
globalIdSource: true
arguments: []
source:
  dataConnectorName: data_connector
  collection: articles
  argumentMapping: {}
filterExpressionType: Article_bool_exp
orderableFields:
  - fieldName: article_id
    orderByDirections:
      enableAll: true
  - fieldName: title
    orderByDirections:
      enableAll: true
  - fieldName: author_id
    orderByDirections:
      enableAll: true
graphql:
  selectUniques:
    - queryRootField: ArticleByID
      uniqueIdentifier:
        - article_id
      description: Description for the select unique ArticleByID
  selectMany:
    queryRootField: ArticleMany
    description: Description for the select many ArticleMany
  orderByExpressionType: Article_Order_By
description: Description for the model Articles
```


### ModelGraphQlDefinition

The definition of how a model appears in the GraphQL API.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `selectUniques` | [[SelectUniqueGraphQlDefinition](#selectuniquegraphqldefinition)] | true | For each select unique defined here, a query root field is added to the GraphQL API that can be used to select a unique object from the model. |
| `selectMany` | [SelectManyGraphQlDefinition](#selectmanygraphqldefinition) / null | false | Select many configuration for a model adds a query root field to the GraphQl API that can be used to retrieve multiple objects from the model. |
| `argumentsInputType` | string / null | false | The type name of the input type used to hold the arguments of the model. |
| `orderByExpressionType` | string / null | false | The type name of the order by expression input type. |

 **Examples:**

```yaml
selectUniques:
  - queryRootField: ArticleByID
    uniqueIdentifier:
      - article_id
    description: Description for the select unique ArticleByID
selectMany:
  queryRootField: ArticleMany
  description: Description for the select many ArticleMany
orderByExpressionType: Article_Order_By
```


### SelectManyGraphQlDefinition

The definition of the GraphQL API for selecting rows from a model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `queryRootField` | string | true | The name of the query root field for this API. |
| `description` | string | false | The description of the select many graphql definition of the model. Gets added to the description of the select many root field of the model in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this select many query field is deprecated. If set, the deprecation status is added to the select many root field's graphql schema. |



### SelectUniqueGraphQlDefinition

The definition of the GraphQL API for selecting a unique row/object from a model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `queryRootField` | string | true | The name of the query root field for this API. |
| `uniqueIdentifier` | [string] | true | A set of fields which can uniquely identify a row/object in the model. |
| `description` | string | false | The description of the select unique graphql definition of the model. Gets added to the description of the select unique root field of the model in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this select unique query field is deprecated. If set, the deprecation status is added to the select unique root field's graphql schema. |



### OrderableField

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldName` | string | true |  |
| `orderByDirections` | [EnableAllOrSpecific](#enableallorspecific) | true |  |



### ModelSource

Description of how a model maps to a particular data connector

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `dataConnectorName` | string | true | The name of the data connector backing this model. |
| `collection` | string | true | The collection in the data connector that backs this model. |
| `argumentMapping` | [undefined](#undefined) | false |  |

 **Examples:**

```yaml
dataConnectorName: data_connector
collection: articles
```


### undefined

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | string | false |  |



### ArgumentDefinition

The definition of an argument for a field, command, or model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true |  |
| `type` | string | true |  |
| `description` | string | false |  |



### ObjectType

Definition of a user-defined Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ObjectType` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ObjectTypeV1](#objecttypev1) | true |  |



### ObjectTypeV1

Definition of a user-defined Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name to give this object type, used to refer to it elsewhere in the metadata. Must be unique across all types defined in this subgraph. |
| `fields` | [[ObjectFieldDefinition](#objectfielddefinition)] | true | The list of fields defined for this object type. |
| `globalIdFields` | [string] | false | The subset of fields that uniquely identify this object in the domain. Setting this property will automatically implement the GraphQL Relay Node interface for this object type and add an `id` global ID field. If setting this property, there must not be a field named `id` already present. |
| `graphql` | [ObjectTypeGraphQLConfiguration](#objecttypegraphqlconfiguration) / null | false | Configuration for how this object type should appear in the GraphQL schema. |
| `description` | string | false | The description of the object. Gets added to the description of the object's definition in the graphql schema. |
| `dataConnectorTypeMapping` | [[DataConnectorTypeMapping](#dataconnectortypemapping)] | false | Mapping of this object type to corresponding object types in various data connectors. |

 **Examples:**

```yaml
name: Author
fields:
  - name: author_id
    type: Int!
    description: The id of the author
  - name: first_name
    type: String
    description: The first name of the author
  - name: last_name
    type: String
    description: The last name of the author
description: An author of a book
globalIdFields:
  - author_id
graphql:
  typeName: Author
dataConnectorTypeMapping:
  - dataConnectorName: my_db
    dataConnectorObjectType: author
    fieldMapping:
      author_id:
        column:
          name: id
```


### DataConnectorTypeMapping

This defines the mapping of the fields of an object type to the corresponding columns of an object type in a data connector.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `dataConnectorName` | string | true |  |
| `dataConnectorObjectType` | string | true |  |
| `fieldMapping` | [undefined](#undefined) | false |  |



### undefined

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | [ObjectFieldMapping](#objectfieldmapping) | false |  |



### ObjectFieldMapping

Source field directly maps to some column in the data connector.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `column` | [ColumnFieldMapping](#columnfieldmapping) | true |  |



### ColumnFieldMapping

The target column in a data connector object that a source field maps to.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the target column |



### ObjectTypeGraphQLConfiguration

GraphQL configuration of an Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string / null | false | The name to use for the GraphQL type representation of this object type when used in an output context. |
| `inputTypeName` | string / null | false | The name to use for the GraphQL type representation of this object type when used in an input context. |



### ObjectFieldDefinition

The definition of a field in a user-defined object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the field. This name is used both when referring to the field elsewhere in the metadata and when creating the corresponding GraphQl type. |
| `type` | string | true | The type of this field. This uses the GraphQL syntax to represent field types and must refer to one of the inbuilt OpenDd types or another user-defined type. |
| `description` | string | false | The description of this field. Gets added to the description of the field's definition in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this field is deprecated. If set, the deprecation status is added to the field's graphql schema. |



### Deprecated

OpenDd configuration to indicate whether an object type field, relationship, model root field or command root field is deprecated.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `reason` | string | false | The reason for deprecation. |



### AuthConfig

Definition of the authentication configuration used by the API server.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `AuthConfig` | true |  |
| `version` | `v1` | true |  |
| `definition` | [AuthConfigV1](#authconfigv1) | true |  |



### AuthConfigV1

Definition of the authentication configuration used by the API server.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `allowRoleEmulationBy` | string / null | false |  |
| `mode` | [AuthModeConfig](#authmodeconfig) | true |  |



### AuthModeConfig

The configuration for the authentication mode to use - webhook or JWT.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `webhook` | [AuthHookConfig](#authhookconfig) | false |  |
| `jwt` | [JWTConfig](#jwtconfig) | false |  |



### JWTConfig

JWT config according to which the incoming JWT will be verified and decoded to extract the session variable claims.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `audience` | [string] | false | Optional validation to check that the `aud` field is a member of the `audience` recieved, otherwise will throw error. |
| `issuer` | string | false | Optional validation to check that the `iss` field is a member of the `iss` received, otherwise will throw error. |
| `allowedSkew` | integer | false | Allowed leeway (in seconds) to the `exp` validation to account for clock skew. |
| `claimsConfig` | [JWTClaimsConfig](#jwtclaimsconfig) | true | Claims config. Either specified via `claims_mappings` or `claims_namespace_path` |
| `tokenLocation` | [JWTTokenLocation](#jwttokenlocation) | true | Source of the JWT authentication token. |
| `key` | [JWTKey](#jwtkey) | true | Mode according to which the JWT auth is configured. |

 **Examples:**

```yaml
audience: null
issuer: null
allowedSkew: null
claimsConfig:
  namespace:
    claimsFormat: Json
    location: /https:~1~1hasura.io~1jwt~1claims
tokenLocation:
  type: BearerAuthorization
key:
  fixed:
    algorithm: HS256
    key:
      value: token
```


### JWTKey

Mode according to which the JWT auth is configured.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fixed` | [JWTKeyConfig](#jwtkeyconfig) | false |  |
| `jwkFromUrl` | string | false |  |



### JWTKeyConfig

JWT Secret config according to which the incoming JWT will be decoded.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `algorithm` | [JWTAlgorithm](#jwtalgorithm) | true | The algorithm used to decode the JWT. |
| `key` | [EnvironmentValue](#environmentvalue) | true | The key to use for decoding the JWT. |



### EnvironmentValue

The key to use for decoding the JWT.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `value` | string | false |  |
| `valueFromEnv` | string | false |  |



### JWTAlgorithm

The algorithm used to decode the JWT.


**One of the following values:**

| Value | Description |
|-----|-----|
| `HS256` | HMAC using SHA-256 |
| `HS384` | HMAC using SHA-384 |
| `HS512` | HMAC using SHA-512 |
| `ES256` | ECDSA using SHA-256 |
| `ES384` | ECDSA using SHA-384 |
| `RS256` | RSASSA-PKCS1-v1_5 using SHA-256 |
| `RS384` | RSASSA-PKCS1-v1_5 using SHA-384 |
| `RS512` | RSASSA-PKCS1-v1_5 using SHA-512 |
| `PS256` | RSASSA-PSS using SHA-256 |
| `PS384` | RSASSA-PSS using SHA-384 |
| `PS512` | RSASSA-PSS using SHA-512 |
| `EdDSA` | Edwards-curve Digital Signature Algorithm (EdDSA) |



### JWTTokenLocation

Source of the JWT authentication token.


**One of the following values:**

| Value | Description |
|-----|-----|
| [undefined](#undefined) | Get the bearer token from the `Authorization` header. |
| [JWTCookieLocation](#jwtcookielocation) | Get the token from the Cookie header under the specificied cookie name. |
| [JWTHeaderLocation](#jwtheaderlocation) | Custom header from where the header should be parsed from. |



### JWTHeaderLocation

Custom header from where the header should be parsed from.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `type` | `Header` | true |  |
| `name` | string | true |  |



### JWTCookieLocation

Get the token from the Cookie header under the specificied cookie name.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `type` | `Cookie` | true |  |
| `name` | string | true |  |



### undefined

Get the bearer token from the `Authorization` header.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `type` | `BearerAuthorization` | true |  |



### JWTClaimsConfig

Claims config. Either specified via `claims_mappings` or `claims_namespace_path`


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `locations` | [JWTClaimsMap](#jwtclaimsmap) | false |  |
| `namespace` | [JWTClaimsNamespace](#jwtclaimsnamespace) | false |  |



### JWTClaimsNamespace

Used when all of the Hasura claims are present in a single object within the decoded JWT.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `claimsFormat` | [JWTClaimsFormat](#jwtclaimsformat) | true | Format in which the Hasura claims will be present. |
| `location` | string | true | Pointer to lookup the Hasura claims within the decoded claims. |



### JWTClaimsFormat

Format in which the Hasura claims will be present.


**One of the following values:**

| Value | Description |
|-----|-----|
| `Json` | Claims will be in the JSON format. |
| `StringifiedJson` | Claims will be in the Stringified JSON format. |



### JWTClaimsMap

Can be used when Hasura claims are not all present in the single object, but individual claims are provided a JSON pointer within the decoded JWT and optionally a default value.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `x-hasura-default-role` | [JWTClaimsMappingEntry](#jwtclaimsmappingentry) | true | JSON pointer to lookup the default role within the decoded JWT. |
| `x-hasura-allowed-roles` | [JWTClaimsMappingEntry](#jwtclaimsmappingentry) | true | JSON pointer to lookup the allowed roles within the decoded JWT. |



### JWTClaimsMappingEntry

JSON pointer to lookup the default role within the decoded JWT.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `literal` | string | false |  |
| `path` | [JWTClaimsMappingPathEntry](#jwtclaimsmappingpathentry) | false |  |



### JWTClaimsMappingPathEntry

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `path` | string | true | JSON pointer to find the particular claim in the decoded JWT token. |
| `default` | string / null | false | Default value to be used when no value is found when looking up the value using the `path`. |



### AuthHookConfig

The configuration of the authentication webhook.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `url` | string | true | The URL of the authentication webhook. |
| `method` | `Get` / `Post` | true | The HTTP method to be used to make the request to the auth hook. |

 **Examples:**

```yaml
url: http://auth_hook:3050/validate-request
method: Post
```


### CompatibilityConfig

The compatibility configuration of the Hasura metadata.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `CompatibilityConfig` | true |  |
| `date` | string | true | Any backwards incompatible changes made to Hasura DDN after this date won't impact the metadata. |



### ScalarTypeGraphQLConfiguration

GraphQL configuration of an Open DD scalar type

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string | true | The name of the GraphQl type to use for this scalar. |



### ScalarTypeV1

Definition of a user-defined scalar type that that has opaque semantics.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name to give this scalar type, used to refer to it elsewhere in the metadata. Must be unique across all types defined in this subgraph. |
| `graphql` | [ScalarTypeGraphQLConfiguration](#scalartypegraphqlconfiguration) / null | false | Configuration for how this scalar type should appear in the GraphQL schema. |
| `description` | string | false | The description of this scalar. Gets added to the description of the scalar's definition in the graphql schema. |

 **Examples:**

```yaml
name: CustomString
graphql:
  typeName: CustomString
description: A custom string type
```


### ScalarType

Definition of a user-defined scalar type that that has opaque semantics.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ScalarType` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ScalarTypeV1](#scalartypev1) | true |  |



### EnableAllOrSpecific


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `enableAll` | boolean | false |  |
| `enableSpecific` | [string] | false |  |



### ComparableField

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldName` | string | true |  |
| `operators` | [EnableAllOrSpecific](#enableallorspecific) | true |  |



### ObjectBooleanExpressionTypeGraphQlConfiguration

GraphQL configuration of an Open DD boolean expression type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string | true | The name to use for the GraphQL type representation of this boolean expression type. |



### ObjectBooleanExpressionTypeV1

Definition of a type representing a boolean expression on an Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name to give this object boolean expression type, used to refer to it elsewhere in the metadata. Must be unique across all types defined in this subgraph. |
| `objectType` | string | true | The name of the object type that this boolean expression applies to. |
| `dataConnectorName` | string | true | The data connector this boolean expression type is based on. |
| `dataConnectorObjectType` | string | true | The object type in the data connector's schema this boolean expression type is based on. |
| `comparableFields` | [[ComparableField](#comparablefield)] | true | The list of fields of the object type that can be used for comparison when evaluating this boolean expression. |
| `graphql` | [ObjectBooleanExpressionTypeGraphQlConfiguration](#objectbooleanexpressiontypegraphqlconfiguration) / null | false | Configuration for how this object type should appear in the GraphQL schema. |

 **Examples:**

```yaml
name: AuthorBoolExp
objectType: Author
dataConnectorName: my_db
dataConnectorObjectType: author
comparableFields:
  - fieldName: article_id
    operators:
      enableAll: true
  - fieldName: title
    operators:
      enableAll: true
  - fieldName: author_id
    operators:
      enableAll: true
graphql:
  typeName: Author_bool_exp
```


### ObjectBooleanExpressionType

Definition of a type representing a boolean expression on an Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ObjectBooleanExpressionType` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ObjectBooleanExpressionTypeV1](#objectbooleanexpressiontypev1) | true |  |



### DataConnectorCommand

The function/procedure in the data connector that backs this command.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `function` | string | false |  |
| `procedure` | string | false |  |



### undefined

Mapping from command argument names to data connector table argument names.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | string | false |  |



### CommandSource

Description of how a command maps to a particular data connector

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `dataConnectorName` | string | true | The name of the data connector backing this command. |
| `dataConnectorCommand` | [DataConnectorCommand](#dataconnectorcommand) | true | The function/procedure in the data connector that backs this command. |
| `argumentMapping` | [undefined](#undefined) | false | Mapping from command argument names to data connector table argument names. |

 **Examples:**

```yaml
dataConnectorName: data_connector
dataConnectorCommand:
  function: latest_article
argumentMapping: {}
```


### CommandGraphQlDefinition

The definition of how a command should appear in the GraphQL API.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `rootFieldName` | string | true | The name of the graphql root field to use for this command. |
| `rootFieldKind` | `Query` / `Mutation` | true | Whether to put this command in the Query or Mutation root of the GraphQL API. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this command root field is deprecated. If set, this will be added to the graphql schema as a deprecated field. |

 **Examples:**

```yaml
rootFieldName: getLatestArticle
rootFieldKind: Query
```


### CommandV1

Definition of an OpenDD Command, which is a custom operation that can take arguments and returns an output. The semantics of a command are opaque to OpenDD.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the command. |
| `outputType` | string | true | The return type of the command. |
| `arguments` | [[ArgumentDefinition](#argumentdefinition)] | false | The list of arguments accepted by this command. Defaults to no arguments. |
| `source` | [CommandSource](#commandsource) / null | false | The source configuration for this command. |
| `graphql` | [CommandGraphQlDefinition](#commandgraphqldefinition) / null | false | Configuration for how this command should appear in the GraphQL schema. |
| `description` | string | false | The description of the command. Gets added to the description of the command's root field in the graphql schema. |

 **Examples:**

```yaml
name: get_latest_article
outputType: commandArticle
arguments: []
source:
  dataConnectorName: data_connector
  dataConnectorCommand:
    function: latest_article
  argumentMapping: {}
graphql:
  rootFieldName: getLatestArticle
  rootFieldKind: Query
description: Get the latest article
```


### Command

The definition of a command. A command is a user-defined operation which can take arguments and returns an output. The semantics of a command are opaque to the Open DD specification.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Command` | true |  |
| `version` | `v1` | true |  |
| `definition` | [CommandV1](#commandv1) | true |  |



### TypeOutputPermission

Permissions for a type for a particular role when used in an output context.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `allowedFields` | [string] | true | Fields of the type that are accessible for a role |



### TypePermission

Defines permissions for a particular role for a type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `role` | string | true | The role for which permissions are being defined. |
| `output` | [TypeOutputPermission](#typeoutputpermission) / null | false | Permissions for this role when this type is used in an output context. If null, this type is inaccessible for this role in an output context. |

 **Examples:**

```yaml
role: user
output:
  allowedFields:
    - article_id
    - author_id
```


### TypePermissionsV1

Definition of permissions for an OpenDD type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string | true | The name of the type for which permissions are being defined. Must be an object type. |
| `permissions` | [[TypePermission](#typepermission)] | true | A list of type permissions, one for each role. |

 **Examples:**

```yaml
typeName: article
permissions:
  - role: admin
    output:
      allowedFields:
        - article_id
        - author_id
        - title
  - role: user
    output:
      allowedFields:
        - article_id
        - author_id
```


### TypePermissions

Definition of permissions for an OpenDD type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `TypePermissions` | true |  |
| `version` | `v1` | true |  |
| `definition` | [TypePermissionsV1](#typepermissionsv1) | true |  |

### CommandPermissions

Definition of permissions for an OpenDD command.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `CommandPermissions` | true |  |
| `version` | `v1` | true |  |
| `definition` | [CommandPermissionsV1](#commandpermissionsv1) | true |  |



### CommandPermissionsV1

Definition of permissions for an OpenDD command.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `commandName` | string | true | The name of the command for which permissions are being defined. |
| `permissions` | [[CommandPermission](#commandpermission)] | true | A list of command permissions, one for each role. |

 **Examples:**

```yaml
commandName: get_article_by_id
permissions:
  - role: admin
    allowExecution: true
  - role: user
    allowExecution: true
```


### CommandPermission

Defines the permissions for a role for a command.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `role` | string | true | The role for which permissions are being defined. |
| `allowExecution` | boolean | true | Whether the command is executable by the role. |
| `argumentPresets` | [[ArgumentPreset](#argumentpreset)] | false | Preset values for arguments for this role |

 **Examples:**

```yaml
role: user
allowExecution: true
argumentPresets:
  - argument: user_id
    value:
      session_variable: x-hasura-user_id
```


### TypePermissions

Definition of permissions for an OpenDD type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `TypePermissions` | true |  |
| `version` | `v1` | true |  |
| `definition` | [TypePermissionsV1](#typepermissionsv1) | true |  |



### TypePermissionsV1

Definition of permissions for an OpenDD type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string | true | The name of the type for which permissions are being defined. Must be an object type. |
| `permissions` | [[TypePermission](#typepermission)] | true | A list of type permissions, one for each role. |

 **Examples:**

```yaml
typeName: article
permissions:
  - role: admin
    output:
      allowedFields:
        - article_id
        - author_id
        - title
  - role: user
    output:
      allowedFields:
        - article_id
        - author_id
```


### TypePermission

Defines permissions for a particular role for a type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `role` | string | true | The role for which permissions are being defined. |
| `output` | [TypeOutputPermission](#typeoutputpermission) / null | false | Permissions for this role when this type is used in an output context. If null, this type is inaccessible for this role in an output context. |

 **Examples:**

```yaml
role: user
output:
  allowedFields:
    - article_id
    - author_id
```


### TypeOutputPermission

Permissions for a type for a particular role when used in an output context.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `allowedFields` | [string] | true | Fields of the type that are accessible for a role |



### Command

The definition of a command. A command is a user-defined operation which can take arguments and returns an output. The semantics of a command are opaque to the Open DD specification.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Command` | true |  |
| `version` | `v1` | true |  |
| `definition` | [CommandV1](#commandv1) | true |  |



### CommandV1

Definition of an OpenDD Command, which is a custom operation that can take arguments and returns an output. The semantics of a command are opaque to OpenDD.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the command. |
| `outputType` | string | true | The return type of the command. |
| `arguments` | [[ArgumentDefinition](#argumentdefinition)] | false | The list of arguments accepted by this command. Defaults to no arguments. |
| `source` | [CommandSource](#commandsource) / null | false | The source configuration for this command. |
| `graphql` | [CommandGraphQlDefinition](#commandgraphqldefinition) / null | false | Configuration for how this command should appear in the GraphQL schema. |
| `description` | string | false | The description of the command. Gets added to the description of the command's root field in the graphql schema. |

 **Examples:**

```yaml
name: get_latest_article
outputType: commandArticle
arguments: []
source:
  dataConnectorName: data_connector
  dataConnectorCommand:
    function: latest_article
  argumentMapping: {}
graphql:
  rootFieldName: getLatestArticle
  rootFieldKind: Query
description: Get the latest article
```


### CommandGraphQlDefinition

The definition of how a command should appear in the GraphQL API.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `rootFieldName` | string | true | The name of the graphql root field to use for this command. |
| `rootFieldKind` | `Query` / `Mutation` | true | Whether to put this command in the Query or Mutation root of the GraphQL API. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this command root field is deprecated. If set, this will be added to the graphql schema as a deprecated field. |

 **Examples:**

```yaml
rootFieldName: getLatestArticle
rootFieldKind: Query
```


### CommandSource

Description of how a command maps to a particular data connector

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `dataConnectorName` | string | true | The name of the data connector backing this command. |
| `dataConnectorCommand` | [DataConnectorCommand](#dataconnectorcommand) | true | The function/procedure in the data connector that backs this command. |
| `argumentMapping` | [undefined](#undefined) | false | Mapping from command argument names to data connector table argument names. |

 **Examples:**

```yaml
dataConnectorName: data_connector
dataConnectorCommand:
  function: latest_article
argumentMapping: {}
```


### undefined

Mapping from command argument names to data connector table argument names.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | string | false |  |



### DataConnectorCommand

The function/procedure in the data connector that backs this command.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `function` | string | false |  |
| `procedure` | string | false |  |



### ObjectBooleanExpressionType

Definition of a type representing a boolean expression on an Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ObjectBooleanExpressionType` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ObjectBooleanExpressionTypeV1](#objectbooleanexpressiontypev1) | true |  |



### ObjectBooleanExpressionTypeV1

Definition of a type representing a boolean expression on an Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name to give this object boolean expression type, used to refer to it elsewhere in the metadata. Must be unique across all types defined in this subgraph. |
| `objectType` | string | true | The name of the object type that this boolean expression applies to. |
| `dataConnectorName` | string | true | The data connector this boolean expression type is based on. |
| `dataConnectorObjectType` | string | true | The object type in the data connector's schema this boolean expression type is based on. |
| `comparableFields` | [[ComparableField](#comparablefield)] | true | The list of fields of the object type that can be used for comparison when evaluating this boolean expression. |
| `graphql` | [ObjectBooleanExpressionTypeGraphQlConfiguration](#objectbooleanexpressiontypegraphqlconfiguration) / null | false | Configuration for how this object type should appear in the GraphQL schema. |

 **Examples:**

```yaml
name: AuthorBoolExp
objectType: Author
dataConnectorName: my_db
dataConnectorObjectType: author
comparableFields:
  - fieldName: article_id
    operators:
      enableAll: true
  - fieldName: title
    operators:
      enableAll: true
  - fieldName: author_id
    operators:
      enableAll: true
graphql:
  typeName: Author_bool_exp
```


### ObjectBooleanExpressionTypeGraphQlConfiguration

GraphQL configuration of an Open DD boolean expression type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string | true | The name to use for the GraphQL type representation of this boolean expression type. |



### ComparableField

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldName` | string | true |  |
| `operators` | [EnableAllOrSpecific](#enableallorspecific) | true |  |



### EnableAllOrSpecific


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `enableAll` | boolean | false |  |
| `enableSpecific` | [string] | false |  |



### ScalarType

Definition of a user-defined scalar type that that has opaque semantics.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ScalarType` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ScalarTypeV1](#scalartypev1) | true |  |



### ScalarTypeV1

Definition of a user-defined scalar type that that has opaque semantics.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name to give this scalar type, used to refer to it elsewhere in the metadata. Must be unique across all types defined in this subgraph. |
| `graphql` | [ScalarTypeGraphQLConfiguration](#scalartypegraphqlconfiguration) / null | false | Configuration for how this scalar type should appear in the GraphQL schema. |
| `description` | string | false | The description of this scalar. Gets added to the description of the scalar's definition in the graphql schema. |

 **Examples:**

```yaml
name: CustomString
graphql:
  typeName: CustomString
description: A custom string type
```


### ScalarTypeGraphQLConfiguration

GraphQL configuration of an Open DD scalar type

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string | true | The name of the GraphQl type to use for this scalar. |



### CompatibilityConfig

The compatibility configuration of the Hasura metadata.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `CompatibilityConfig` | true |  |
| `date` | string | true | Any backwards incompatible changes made to Hasura DDN after this date won't impact the metadata. |



### AuthHookConfig

The configuration of the authentication webhook.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `url` | string | true | The URL of the authentication webhook. |
| `method` | `Get` / `Post` | true | The HTTP method to be used to make the request to the auth hook. |

 **Examples:**

```yaml
url: http://auth_hook:3050/validate-request
method: Post
```


### JWTClaimsMappingPathEntry

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `path` | string | true | JSON pointer to find the particular claim in the decoded JWT token. |
| `default` | string / null | false | Default value to be used when no value is found when looking up the value using the `path`. |



### JWTClaimsMappingEntry

JSON pointer to lookup the default role within the decoded JWT.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `literal` | string | false |  |
| `path` | [JWTClaimsMappingPathEntry](#jwtclaimsmappingpathentry) | false |  |



### JWTClaimsMap

Can be used when Hasura claims are not all present in the single object, but individual claims are provided a JSON pointer within the decoded JWT and optionally a default value.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `x-hasura-default-role` | [JWTClaimsMappingEntry](#jwtclaimsmappingentry) | true | JSON pointer to lookup the default role within the decoded JWT. |
| `x-hasura-allowed-roles` | [JWTClaimsMappingEntry](#jwtclaimsmappingentry) | true | JSON pointer to lookup the allowed roles within the decoded JWT. |



### JWTClaimsFormat

Format in which the Hasura claims will be present.


**One of the following values:**

| Value | Description |
|-----|-----|
| `Json` | Claims will be in the JSON format. |
| `StringifiedJson` | Claims will be in the Stringified JSON format. |



### JWTClaimsNamespace

Used when all of the Hasura claims are present in a single object within the decoded JWT.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `claimsFormat` | [JWTClaimsFormat](#jwtclaimsformat) | true | Format in which the Hasura claims will be present. |
| `location` | string | true | Pointer to lookup the Hasura claims within the decoded claims. |



### JWTClaimsConfig

Claims config. Either specified via `claims_mappings` or `claims_namespace_path`


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `locations` | [JWTClaimsMap](#jwtclaimsmap) | false |  |
| `namespace` | [JWTClaimsNamespace](#jwtclaimsnamespace) | false |  |



### undefined

Get the bearer token from the `Authorization` header.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `type` | `BearerAuthorization` | true |  |



### JWTCookieLocation

Get the token from the Cookie header under the specificied cookie name.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `type` | `Cookie` | true |  |
| `name` | string | true |  |



### JWTHeaderLocation

Custom header from where the header should be parsed from.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `type` | `Header` | true |  |
| `name` | string | true |  |



### JWTTokenLocation

Source of the JWT authentication token.


**One of the following values:**

| Value | Description |
|-----|-----|
| [undefined](#undefined) | Get the bearer token from the `Authorization` header. |
| [JWTCookieLocation](#jwtcookielocation) | Get the token from the Cookie header under the specificied cookie name. |
| [JWTHeaderLocation](#jwtheaderlocation) | Custom header from where the header should be parsed from. |



### JWTAlgorithm

The algorithm used to decode the JWT.


**One of the following values:**

| Value | Description |
|-----|-----|
| `HS256` | HMAC using SHA-256 |
| `HS384` | HMAC using SHA-384 |
| `HS512` | HMAC using SHA-512 |
| `ES256` | ECDSA using SHA-256 |
| `ES384` | ECDSA using SHA-384 |
| `RS256` | RSASSA-PKCS1-v1_5 using SHA-256 |
| `RS384` | RSASSA-PKCS1-v1_5 using SHA-384 |
| `RS512` | RSASSA-PKCS1-v1_5 using SHA-512 |
| `PS256` | RSASSA-PSS using SHA-256 |
| `PS384` | RSASSA-PSS using SHA-384 |
| `PS512` | RSASSA-PSS using SHA-512 |
| `EdDSA` | Edwards-curve Digital Signature Algorithm (EdDSA) |



### EnvironmentValue

The key to use for decoding the JWT.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `value` | string | false |  |
| `valueFromEnv` | string | false |  |



### JWTKeyConfig

JWT Secret config according to which the incoming JWT will be decoded.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `algorithm` | [JWTAlgorithm](#jwtalgorithm) | true | The algorithm used to decode the JWT. |
| `key` | [EnvironmentValue](#environmentvalue) | true | The key to use for decoding the JWT. |



### JWTKey

Mode according to which the JWT auth is configured.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fixed` | [JWTKeyConfig](#jwtkeyconfig) | false |  |
| `jwkFromUrl` | string | false |  |



### JWTConfig

JWT config according to which the incoming JWT will be verified and decoded to extract the session variable claims.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `audience` | [string] | false | Optional validation to check that the `aud` field is a member of the `audience` recieved, otherwise will throw error. |
| `issuer` | string | false | Optional validation to check that the `iss` field is a member of the `iss` received, otherwise will throw error. |
| `allowedSkew` | integer | false | Allowed leeway (in seconds) to the `exp` validation to account for clock skew. |
| `claimsConfig` | [JWTClaimsConfig](#jwtclaimsconfig) | true | Claims config. Either specified via `claims_mappings` or `claims_namespace_path` |
| `tokenLocation` | [JWTTokenLocation](#jwttokenlocation) | true | Source of the JWT authentication token. |
| `key` | [JWTKey](#jwtkey) | true | Mode according to which the JWT auth is configured. |

 **Examples:**

```yaml
audience: null
issuer: null
allowedSkew: null
claimsConfig:
  namespace:
    claimsFormat: Json
    location: /https:~1~1hasura.io~1jwt~1claims
tokenLocation:
  type: BearerAuthorization
key:
  fixed:
    algorithm: HS256
    key:
      value: token
```


### AuthModeConfig

The configuration for the authentication mode to use - webhook or JWT.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `webhook` | [AuthHookConfig](#authhookconfig) | false |  |
| `jwt` | [JWTConfig](#jwtconfig) | false |  |



### AuthConfigV1

Definition of the authentication configuration used by the API server.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `allowRoleEmulationBy` | string / null | false |  |
| `mode` | [AuthModeConfig](#authmodeconfig) | true |  |



### AuthConfig

Definition of the authentication configuration used by the API server.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `AuthConfig` | true |  |
| `version` | `v1` | true |  |
| `definition` | [AuthConfigV1](#authconfigv1) | true |  |



### Deprecated

OpenDd configuration to indicate whether an object type field, relationship, model root field or command root field is deprecated.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `reason` | string | false | The reason for deprecation. |



### ObjectFieldDefinition

The definition of a field in a user-defined object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the field. This name is used both when referring to the field elsewhere in the metadata and when creating the corresponding GraphQl type. |
| `type` | string | true | The type of this field. This uses the GraphQL syntax to represent field types and must refer to one of the inbuilt OpenDd types or another user-defined type. |
| `description` | string | false | The description of this field. Gets added to the description of the field's definition in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this field is deprecated. If set, the deprecation status is added to the field's graphql schema. |



### ObjectTypeGraphQLConfiguration

GraphQL configuration of an Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `typeName` | string / null | false | The name to use for the GraphQL type representation of this object type when used in an output context. |
| `inputTypeName` | string / null | false | The name to use for the GraphQL type representation of this object type when used in an input context. |



### ColumnFieldMapping

The target column in a data connector object that a source field maps to.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the target column |



### ObjectFieldMapping

Source field directly maps to some column in the data connector.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `column` | [ColumnFieldMapping](#columnfieldmapping) | true |  |



### undefined

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | [ObjectFieldMapping](#objectfieldmapping) | false |  |



### DataConnectorTypeMapping

This defines the mapping of the fields of an object type to the corresponding columns of an object type in a data connector.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `dataConnectorName` | string | true |  |
| `dataConnectorObjectType` | string | true |  |
| `fieldMapping` | [undefined](#undefined) | false |  |



### ObjectTypeV1

Definition of a user-defined Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name to give this object type, used to refer to it elsewhere in the metadata. Must be unique across all types defined in this subgraph. |
| `fields` | [[ObjectFieldDefinition](#objectfielddefinition)] | true | The list of fields defined for this object type. |
| `globalIdFields` | [string] | false | The subset of fields that uniquely identify this object in the domain. Setting this property will automatically implement the GraphQL Relay Node interface for this object type and add an `id` global ID field. If setting this property, there must not be a field named `id` already present. |
| `graphql` | [ObjectTypeGraphQLConfiguration](#objecttypegraphqlconfiguration) / null | false | Configuration for how this object type should appear in the GraphQL schema. |
| `description` | string | false | The description of the object. Gets added to the description of the object's definition in the graphql schema. |
| `dataConnectorTypeMapping` | [[DataConnectorTypeMapping](#dataconnectortypemapping)] | false | Mapping of this object type to corresponding object types in various data connectors. |

 **Examples:**

```yaml
name: Author
fields:
  - name: author_id
    type: Int!
    description: The id of the author
  - name: first_name
    type: String
    description: The first name of the author
  - name: last_name
    type: String
    description: The last name of the author
description: An author of a book
globalIdFields:
  - author_id
graphql:
  typeName: Author
dataConnectorTypeMapping:
  - dataConnectorName: my_db
    dataConnectorObjectType: author
    fieldMapping:
      author_id:
        column:
          name: id
```


### ObjectType

Definition of a user-defined Open DD object type.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ObjectType` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ObjectTypeV1](#objecttypev1) | true |  |



### ArgumentDefinition

The definition of an argument for a field, command, or model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true |  |
| `type` | string | true |  |
| `description` | string | false |  |



### undefined

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | string | false |  |



### ModelSource

Description of how a model maps to a particular data connector

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `dataConnectorName` | string | true | The name of the data connector backing this model. |
| `collection` | string | true | The collection in the data connector that backs this model. |
| `argumentMapping` | [undefined](#undefined) | false |  |

 **Examples:**

```yaml
dataConnectorName: data_connector
collection: articles
```


### OrderableField

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldName` | string | true |  |
| `orderByDirections` | [EnableAllOrSpecific](#enableallorspecific) | true |  |



### SelectUniqueGraphQlDefinition

The definition of the GraphQL API for selecting a unique row/object from a model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `queryRootField` | string | true | The name of the query root field for this API. |
| `uniqueIdentifier` | [string] | true | A set of fields which can uniquely identify a row/object in the model. |
| `description` | string | false | The description of the select unique graphql definition of the model. Gets added to the description of the select unique root field of the model in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this select unique query field is deprecated. If set, the deprecation status is added to the select unique root field's graphql schema. |



### SelectManyGraphQlDefinition

The definition of the GraphQL API for selecting rows from a model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `queryRootField` | string | true | The name of the query root field for this API. |
| `description` | string | false | The description of the select many graphql definition of the model. Gets added to the description of the select many root field of the model in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this select many query field is deprecated. If set, the deprecation status is added to the select many root field's graphql schema. |



### ModelGraphQlDefinition

The definition of how a model appears in the GraphQL API.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `selectUniques` | [[SelectUniqueGraphQlDefinition](#selectuniquegraphqldefinition)] | true | For each select unique defined here, a query root field is added to the GraphQL API that can be used to select a unique object from the model. |
| `selectMany` | [SelectManyGraphQlDefinition](#selectmanygraphqldefinition) / null | false | Select many configuration for a model adds a query root field to the GraphQl API that can be used to retrieve multiple objects from the model. |
| `argumentsInputType` | string / null | false | The type name of the input type used to hold the arguments of the model. |
| `orderByExpressionType` | string / null | false | The type name of the order by expression input type. |

 **Examples:**

```yaml
selectUniques:
  - queryRootField: ArticleByID
    uniqueIdentifier:
      - article_id
    description: Description for the select unique ArticleByID
selectMany:
  queryRootField: ArticleMany
  description: Description for the select many ArticleMany
orderByExpressionType: Article_Order_By
```


### ModelV1

The definition of a data model. A data model is a collection of objects of a particular type. Models can support one or more CRUD operations.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the data model. |
| `objectType` | string | true | The type of the objects of which this model is a collection. |
| `globalIdSource` | boolean | false | Whether this model should be used as the global ID source for all objects of its type. |
| `arguments` | [[ArgumentDefinition](#argumentdefinition)] | false | A list of arguments accepted by this model. Defaults to no arguments. |
| `source` | [ModelSource](#modelsource) / null | false | The source configuration for this model. |
| `filterExpressionType` | string / null | false | The boolean expression type that should be used to perform filtering on this model. |
| `orderableFields` | [[OrderableField](#orderablefield)] | true | A list of fields that can be used to order the objects in this model. |
| `graphql` | [ModelGraphQlDefinition](#modelgraphqldefinition) / null | false | Configuration for how this model should appear in the GraphQL schema. |
| `description` | string | false | The description of the model. Gets added to the description of the model in the graphql schema. |

 **Examples:**

```yaml
name: Articles
objectType: article
globalIdSource: true
arguments: []
source:
  dataConnectorName: data_connector
  collection: articles
  argumentMapping: {}
filterExpressionType: Article_bool_exp
orderableFields:
  - fieldName: article_id
    orderByDirections:
      enableAll: true
  - fieldName: title
    orderByDirections:
      enableAll: true
  - fieldName: author_id
    orderByDirections:
      enableAll: true
graphql:
  selectUniques:
    - queryRootField: ArticleByID
      uniqueIdentifier:
        - article_id
      description: Description for the select unique ArticleByID
  selectMany:
    queryRootField: ArticleMany
    description: Description for the select many ArticleMany
  orderByExpressionType: Article_Order_By
description: Description for the model Articles
```


### Model

The definition of a data model. A data model is a collection of objects of a particular type. Models can support one or more CRUD operations.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Model` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ModelV1](#modelv1) | true |  |



### RelationshipType

Type of the relationship - object or array.


**One of the following values:**

| Value | Description |
|-----|-----|
| `Object` | Select one related object from the target. |
| `Array` | Select multiple related objects from the target. |



### ModelRelationshipTarget

The target model for a relationship.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the data model. |
| `namespace` | string | false |  |
| `subgraph` | string | false | The subgraph of the target model. Defaults to the current subgraph. |
| `relationshipType` | [RelationshipType](#relationshiptype) | true | Type of the relationship - object or array. |



### CommandRelationshipTarget

The target command for a relationship.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the command. |
| `subgraph` | string | false | The subgraph of the target command. Defaults to the current subgraph. |



### RelationshipTarget

The target of the relationship.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `model` | [ModelRelationshipTarget](#modelrelationshiptarget) | false |  |
| `command` | [CommandRelationshipTarget](#commandrelationshiptarget) | false |  |



### ValueExpression

An expression which evaluates to a value that can be used in permissions.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `literal` |  | false |  |
| `sessionVariable` | string | false |  |



### RelationshipSourceFieldAccess

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldName` | string | true |  |



### RelationshipMappingSource

The source configuration for this relationship mapping.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `value` | [ValueExpression](#valueexpression) | false |  |
| `fieldPath` | [[RelationshipSourceFieldAccess](#relationshipsourcefieldaccess)] | false |  |



### ArgumentMappingTarget

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `argumentName` | string | true |  |



### RelationshipMappingTarget

The target configuration for this relationship mapping.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `argument` | [ArgumentMappingTarget](#argumentmappingtarget) | false |  |
| `modelField` | [[RelationshipSourceFieldAccess](#relationshipsourcefieldaccess)] | false |  |



### RelationshipMapping

Definition of a how a particular field in the source maps to a target field or argument.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `source` | [RelationshipMappingSource](#relationshipmappingsource) | true | The source configuration for this relationship mapping. |
| `target` | [RelationshipMappingTarget](#relationshipmappingtarget) | true | The target configuration for this relationship mapping. |

 **Examples:**

```yaml
source:
  fieldPath:
    - fieldName: author_id
target:
  modelField:
    - fieldName: author_id
```


### RelationshipV1

Definition of a relationship on an OpenDD type which allows it to be extended with related models or commands.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the relationship. |
| `source` | string | true | The source type of the relationship. |
| `target` | [RelationshipTarget](#relationshiptarget) | true | The target of the relationship. |
| `mapping` | [[RelationshipMapping](#relationshipmapping)] | true | The mapping configuration of source to target for the relationship. |
| `description` | string | false | The description of the relationship. Gets added to the description of the relationship in the graphql schema. |
| `deprecated` | [Deprecated](#deprecated) / null | false | Whether this relationship is deprecated. If set, the deprecation status is added to the relationship field's graphql schema. |

 **Examples:**

```yaml
name: Articles
source: author
target:
  model:
    name: Articles
    namespace: null
    subgraph: null
    relationshipType: Array
mapping:
  - source:
      fieldPath:
        - fieldName: author_id
    target:
      modelField:
        - fieldName: author_id
description: Articles written by an author
```


### Relationship

Definition of a relationship on an OpenDD type which allows it to be extended with related models or commands.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Relationship` | true |  |
| `version` | `v1` | true |  |
| `definition` | [RelationshipV1](#relationshipv1) | true |  |



### FieldComparisonPredicate

Field comparision predicate filters objects based on a field value.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `field` | string | true | The field name of the object type of the model to compare. |
| `operator` | string | true | The name of the operator to use for comparison. |
| `value` | [ValueExpression](#valueexpression) | true | The value expression to compare against. |



### undefined

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `field` | string | true |  |



### RelationshipPredicate

Relationship predicate filters objects of a source model based on a predicate on the related model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | The name of the relationship of the object type of the model to follow. |
| `predicate` | [ModelPredicate](#modelpredicate) / null | false | The predicate to apply on the related objects. If this is null, then the predicate evaluates to true as long as there is at least one related object present. |



### ModelPredicate

A predicate that can be used to restrict the objects returned when querying a model.


**Must have exactly one of the following fields:**

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `fieldComparison` | [FieldComparisonPredicate](#fieldcomparisonpredicate) | false |  |
| `fieldIsNull` | [undefined](#undefined) | false |  |
| `relationship` | [RelationshipPredicate](#relationshippredicate) | false |  |
| `and` | [[ModelPredicate](#modelpredicate)] | false |  |
| `or` | [[ModelPredicate](#modelpredicate)] | false |  |
| `not` | [ModelPredicate](#modelpredicate) | false |  |



### ArgumentPreset

Preset value for an argument

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `argument` | string | true | Argument name for preset |
| `value` | [ValueExpression](#valueexpression) | true | Value for preset |



### SelectPermission

Defines the permissions for selecting a model for a role.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `filter` | null / [ModelPredicate](#modelpredicate) | true | Filter expression when selecting rows for this model. Null filter implies all rows are selectable. |
| `argumentPresets` | [[ArgumentPreset](#argumentpreset)] | false | Preset values for arguments for this role |



### ModelPermission

Defines the permissions for an OpenDD model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `role` | string | true | The role for which permissions are being defined. |
| `select` | [SelectPermission](#selectpermission) / null | false | The permissions for selecting from this model for this role. If this is null, the role is not allowed to query the model. |

 **Examples:**

```yaml
role: user
select:
  filter:
    fieldComparison:
      field: author_id
      operator: _eq
      value:
        sessionVariable: x-hasura-user-id
  argument_presets:
    - field: likes_dogs
      value:
        literal: true
```


### ModelPermissionsV1

Definition of permissions for an OpenDD model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `modelName` | string | true | The name of the model for which permissions are being defined. |
| `permissions` | [[ModelPermission](#modelpermission)] | true | A list of model permissions, one for each role. |

 **Examples:**

```yaml
modelName: Articles
permissions:
  - role: admin
    select:
      filter: null
  - role: user
    select:
      filter:
        fieldComparison:
          field: author_id
          operator: _eq
          value:
            sessionVariable: x-hasura-user-id
```


### ModelPermissions

Definition of permissions for an OpenDD model.

| Key | Schema | Required | Description |
|-----|-----|-----|-----|
| `kind` | `ModelPermissions` | true |  |
| `version` | `v1` | true |  |
| `definition` | [ModelPermissionsV1](#modelpermissionsv1) | true |  |
