---
sidebar_position: 10
sidebar_label: Graphql API Configuration
description:
  "Configure the global field/type names for the GraphQL API generated by Hasura for your data domain models."
toc_max_heading_level: 4
keywords:
  - data domain models
  - hasura api
  - graphql api configuration
  - graphql configuration
seoFrontMatterUpdated: true
---

# Configuration for Graphql API

## Introduction

The `GraphqlConfig` supergraph metadata object allows you to configure the GraphQL schema generated by Hasura. This
object helps you configure the common graphql schema applicable to all subgraphs.

Specifically it allows you to configure:

1. The root type names for query, mutation and subscription operations.
2. The name for Model selection input field names (`where`, `limit`, `offset`, `args`, `order_by`)
3. The enum values for `order_by` directions and the `order_by` enum type name.

It is recommended to provide this metadata object in the supergraph since this will be made mandatory in future. Until
then if it is not provided, Hasura will generate the GraphQL API with the default values.

## Description

To create the graphql configuration, you need to define an object of `kind: GraphqlConfig` and `version: v1` in the
supergraph. The object `definition` has the following fields:

### Metadata structure

```yaml
kind: GraphqlConfig
version: v1
definition:
  query: <QueryGraphqlConfig>
  mutation: <MutationGraphqlConfig>
```

| Field      | Type                                              | Required | Description                                       |
| ---------- | ------------------------------------------------- | -------- | ------------------------------------------------- |
| `query`    | [`QueryGraphqlConfig`](#queryGraphqlConfig)       | true     | GraphQL configuration for the query operation.    |
| `mutation` | [`MutationGraphqlConfig`](#mutationGraphqlConfig) | true     | GraphQL configuration for the mutation operation. |

#### QueryGraphqlConfig {#queryGraphqlConfig}

The query GraphQL configuration is an object that defines the configuration for query operations. It has the following
fields:

```yaml
query:
  rootOperationTypeName: <String>
  argumentsInput: <ArgumentsInput>
  limitInput: <LimitInput>
  offsetInput: <OffsetInput>
  filterInput: <FilterInput>
  orderByInput: <OrderByInput>
```

| `source` Field          | Type                                | Required | Description                                                                                       |
| ----------------------- | ----------------------------------- | -------- | ------------------------------------------------------------------------------------------------- |
| `rootOperationTypeName` | `String`                            | true     | The root type name for the GraphQL query operation.                                               |
| `argumentsInput`        | [`ArgumentsInput`](#argumentsinput) | false    | GraphQL field Name for the `args` field that gets generated for models with arguments.            |
| `limitInput`            | [`LimitInput`](#limitinput)         | false    | GraphQL field Name for the `limit` field that gets generated for with `selectMany` configuration. |
| `offsetInput`           | [`OffsetInput`](#offsetinput)       | false    | GraphQL field Name for the `offset` field that gets generated for with `selectMany` configuration |
| `filterInput`           | [`FilterInput`](#filterinput)       | false    | Type mappings from object types used within the model to the corresponding data connector types.  |
| `orderByInput`          | [`OrderByInput`](#orderbyinput)     | false    | Type mappings from object types used within the model to the corresponding data connector types.  |

:::note Requirement of Optional fields

The `argumentsInput`, `limitInput`, `offsetInput`, `filterInput` and `orderByInput` fields are optional only when these
feature are not used in any model.

1. `argumentsInput` is required when any model in the metadata has defined `argumentsInputType` in its `graphql` field.
2. `limitInput` and `offsetInput` are required when any model in the metadata has defined `selectMany` in its `graphql`
   field.
3. `filterInput` is required when any model in the metadata has defined `filterExpressionType` in its `graphql` field.
4. `orderByInput` is required when any model in the metadata has defined `orderByExpressionType` in its `graphql` field.

:::

##### ArgumentsInput

The GraphQL field name for `args` field that gets generated for models with arguments.

```yaml
argumentsInput:
  fieldName: <String>
```

| `argumentsInput` Field | Type     | Required | Description                                |
| ---------------------- | -------- | -------- | ------------------------------------------ |
| `fieldName`            | `String` | true     | GraphQL field name to use for `args` field |

##### LimitInput

The GraphQL field name for `limit` field that gets generated for models with `selectMany` configuration.

```yaml
limitInput:
  fieldName: <String>
```

| `argumentsInput` Field | Type     | Required | Description                                 |
| ---------------------- | -------- | -------- | ------------------------------------------- |
| `fieldName`            | `String` | true     | GraphQL field name to use for `limit` field |

##### OffsetInput

The GraphQL field name for `offset` field that gets generated for models with `selectMany` configuration.

```yaml
limitInput:
  fieldName: <String>
```

| `argumentsInput` Field | Type     | Required | Description                                  |
| ---------------------- | -------- | -------- | -------------------------------------------- |
| `fieldName`            | `String` | true     | GraphQL field name to use for `offset` field |

##### FilterInput

The GraphQL field names generated for models which can be filtered.

```yaml
filterInput:
  fieldName: <String>
  operatorNames:
    and: <String>
    or: <String>
    not: <String>
```

| `filterInput` Field | Type     | Required | Description                                                   |
| ------------------- | -------- | -------- | ------------------------------------------------------------- |
| `fieldName`         | `String` | true     | GraphQL field name to use for `where` field.                  |
| `and`               | `String` | true     | GraphQL field name to use for `and` operator of filter field. |
| `or`                | `String` | true     | GraphQL field name to use for `or` operator of filter field.  |
| `not`               | `String` | true     | GraphQL field name to use for `not` operator of filter field. |

##### OrderByInput

The GraphQL field names and type names generated for models which can be ordered.

```yaml
orderByInput:
  fieldName: <String>
  enumDirectionValues:
    asc: <String>
    desc: <String>
  enumTypeNames: EnumTypeNames
```

| `orderByInput` Field | Type                              | Required | Description                                                             |
| -------------------- | --------------------------------- | -------- | ----------------------------------------------------------------------- |
| `fieldName`          | `String`                          | true     | GraphQL field name to use for `order_by` field.                         |
| `asc`                | `String`                          | true     | GraphQL field name to use for `asc` direction value of order_by field.  |
| `desc`               | `String`                          | true     | GraphQL field name to use for `desc` direction value of order_by field. |
| `enumTypeNames`      | [`EnumTypeNames`](#enumtypenames) | true     | GraphQL field name to use for `not` operator of filter field.           |

##### EnumTypeNames

The enumTypeNames is an object that lists the GraphQL type names for the different combinations of `order_by` enum
values generated for models which can be ordered.

```yaml
enumTypeNames:
  - directions: [<String>]
    typeName: <String>
```

| `enumTypeNames` Field | Type       | Required | Description                                                                                                             |
| --------------------- | ---------- | -------- | ----------------------------------------------------------------------------------------------------------------------- |
| `directions`          | [`String`] | true     | The directions for which we want to generate a type. Currently you have to provide both `asc` and `desc` in the values. |
| `typeName`            | `String`   | true     | The GraphQL type name for this combination of order_by direction.                                                       |

#### MutationGraphqlConfig {#mutationGraphqlConfig}

The mutation GraphQL configuration is an object that defines the configuration for mutation operations. It has the
following fields:

```yaml
mutation:
  rootOperationTypeName: <String>
```

| `source` Field          | Type     | Required | Description                                            |
| ----------------------- | -------- | -------- | ------------------------------------------------------ |
| `rootOperationTypeName` | `String` | true     | The root type name for the GraphQL mutation operation. |

## Examples

In this example, assume that we have a model called `Authors` backed by a database table called `authors` with fields
`author_id`, `first_name` and `last_name` and we define the GraphQL configuration in the supergraph as follows:

```yaml
kind: GraphqlConfig
version: v1
definition:
    query:
    rootOperationTypeName: Query_custom
    argumentsInput:
        fieldName: args_custom
    limitInput:
        fieldName: limit_custom
    offsetInput:
        fieldName: offset_custom
    filterInput:
        fieldName: where_custom
        operatorNames:
          and: _and_custom
          or: _or_custom
          not: _not_custom
    orderByInput:
        fieldName: order_by_custom
        enumDirectionValues:
          asc: Asc_custom
          desc: Desc_custom
        enumTypeNames:
          - directions:
            - asc
            - desc
          typeName: OrderByAscDesc
    mutation:
    rootOperationTypeName: Mutation_custom

```

The resulting GraphQl API will be:

```graphql
type Query_custom {
  node(id: ID!): Node
  AuthorByID(author_id: Int!): Author
  AuthorMany(where_custom: Author_Where_Exp, order_by_custom: Author_Order_By, limit_custom: Int, offset_custom: Int): Author
}

type Mutation_custom {

}

type Author {
  id: ID!
  author_id: Int!
  first_name: String
  last_name: String
}

input Author_Where_Exp: {
  _and_custom: [Author_Where_Exp!]
  _or_custom: [Author_Where_Exp!]
  _not_custom: [Author_Where_Exp!]
  author_id: int_comparison_exp
  first_name: text_comparison_exp
  last_name: text_comparison_exp
}

input Author_Order_By {
  author_id: order_by_custom
  first_name: order_by_custom
  last_name: order_by_custom
}

enum OrderByAscDesc {
  Asc_custom,
  Desc_custom
}
```
