---
sidebar_position: 7
sidebar_label: Relationships
description:
  "Expand your understanding of relationships in Hasura, learn how to define linked or nested data queries, create
  relationships between types and models. Explore mapping relationships with in-depth annotated examples and explore
  connecting data across namespaces."
keywords:
  - hasura relationships
  - data mapping
  - graphql queries
  - linked data queries
  - nested data queries
  - hasura data modeling
  - data connectivity
  - hasura data sources
  - hasura api configuration
toc_max_heading_level: 4
seoFrontMatterUpdated: true
---

# Relationships

## Introduction

A relationship allows you to query nested or linked information, for example from `Manufacturers` to `Products`. A
relationship allows you extend [type](./types.mdx) objects with related [models](./models.mdx) or related
[commands](./commands.mdx).

To create a relationship, you will need to define an object with `kind: Relationship` and `version: v1`. The object
`definition` has a `name`, the `source` type, a `target` model and the `mapping` between the two.

## Metadata structure

### Relationship

Definition of a relationship on an OpenDD type which allows it to be extended with related models or commands.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `name` | `string` | `true` | The name of the relationship. |
| `source` | `string` | `true` | The source type of the relationship. |
| `target` | [`RelationshipTarget`](#relationshiptarget) | `true` | The target of the relationship. |
| `mapping` | [`RelationshipMapping`](#relationshipmapping) | `true` | The mapping configuration of source to target for the relationship. |
| `description` | `string,null` | `false` | The description of the relationship. Gets added to the description of the relationship in the graphql schema. |



**Example:**

```yaml
name: Articles
source: author
target:
  model:
    name: Articles
    namespace: null
    subgraph: null
    relationshipType: Array
mapping:
  - source:
      fieldPath:
        - fieldName: author_id
    target:
      modelField:
        - fieldName: author_id
description: Articles written by an author

```

#### RelationshipTarget

The target for a relationship.


This object must have exactly one of the following fields:

| Name | Type | Description |
| ---- | ---- | ----------- |
| `model` | `object` | The target model for a relationship. |
| `command` | `object` | The target command for a relationship. |


**Example:**

```yaml
model:
  name: Articles
  namespace: null
  subgraph: null
  relationshipType: Array

```

#### ModelRelationshipTarget

The target model for a relationship.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `name` | `string` | `true` | The name of the data model. |
| `namespace` | `string,null` | `false` |  |
| `subgraph` | `string,null` | `false` | The subgraph of the target model. Defaults to the current subgraph. |
| `relationshipType` | [`RelationshipType`](#relationshiptype) | `true` | Type of the relationship - object or array. |

#### RelationshipType

Type of the relationship.

#### CommandRelationshipTarget

The target command for a relationship.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `name` | `string` | `true` | The name of the command. |
| `subgraph` | `string,null` | `false` | The subgraph of the target command. Defaults to the current subgraph. |

#### RelationshipMapping

Definition of a how a particular field in the source maps to a target field or argument.

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `source` | [`RelationshipMappingSource`](#relationshipmappingsource) | `true` | The source configuration for this relationship mapping. |
| `target` | [`RelationshipMappingTarget`](#relationshipmappingtarget) | `true` | The target configuration for this relationship mapping. |



**Example:**

```yaml
source:
  fieldPath:
    - fieldName: author_id
target:
  modelField:
    - fieldName: author_id

```

#### RelationshipMappingSource

The source configuration for a relationship mapping.


This object must have exactly one of the following fields:

| Name | Type | Description |
| ---- | ---- | ----------- |
| `value` |  | An expression which evaluates to a value that can be used in permissions. |
| `fieldPath` | [`RelationshipSourceFieldAccess`](#relationshipsourcefieldaccess) |  |
#### ValueExpression

An expression which evaluates to a value that can be used in permissions.


This object must have exactly one of the following fields:

| Name | Type | Description |
| ---- | ---- | ----------- |
| `literal` |  |  |
| `sessionVariable` | `string` | Used to represent the name of a session variable, like "x-hasura-role". |
#### RelationshipSourceFieldAccess

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `fieldName` | `string` | `true` | The name of a field in a user-defined object type. |

#### RelationshipMappingTarget

The target configuration for a relationship mapping.


This object must have exactly one of the following fields:

| Name | Type | Description |
| ---- | ---- | ----------- |
| `argument` | `object` |  |
| `modelField` | [`RelationshipSourceFieldAccess`](#relationshipsourcefieldaccess) |  |
#### ArgumentMappingTarget

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `argumentName` | `string` | `true` |  |

