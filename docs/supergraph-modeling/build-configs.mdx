---
sidebar_label: Build configs
description:
  "Add as many Supergraph objects as you need to define different configurations for building your supergraph and a
  Connector object for each connector in your supergraph."
seoFrontMatterUpdated: true
toc_max_heading_level: 4
sidebar_position: 3
---

# Build configs

## Introduction

Build configs are used to define the resources and other configurations required to build a **supergraph**, **subgraph**
or a **connector**. They are written in YAML and are defined in individual files.

It's helpful to think of build configs as a blueprint for building your supergraph. The following options are available
to you:

| Config type               | Description                                           |
| ------------------------- | ----------------------------------------------------- |
| [Supergraph](#supergraph) | Defines the configuration used to build a supergraph. |
| [Subgraph](#subgraph)     | Defines the configuration used to build a subgraph.   |
| [Connector](#connector)   | Defines the configuration used to build a connector.  |

### How the Supergraph config works {#supergraph}

#### Lifecycle

The [Supergraph](#supergraph-supergraph) object defines the configuration used to build the supergraph. While projects
are generated with default configs for building for local or Hasura DDN
[when initializing a new supergraph](/cli/commands/ddn_supergraph_init.mdx), you can add as many `Supergraph` objects as
you need to define different configurations for building your supergraph.

You can then use these files to build your supergraph — either locally or on Hasura DDN —
[using the CLI](/cli/commands/ddn_supergraph_build_local.mdx). These builds — when on Hasura DDN — can then be
[applied to a project](/cli/commands/ddn_supergraph_build_apply.mdx) which will then serve the API using the supergraph
built from the configuration.

#### Examples

```yaml title="A supergraph.yaml config file:"
kind: Supergraph
version: v2
definition:
  subgraphs:
    - globals/subgraph.yaml
    - app/subgraph.yaml
```

| **Field**              | **Description**                                                                      | **Reference**                                                |
| ---------------------- | ------------------------------------------------------------------------------------ | ------------------------------------------------------------ |
| `kind`                 | Specifies the type of configuration, in this case, `Supergraph`.                     | [Supergraph](#supergraph-supergraph)                         |
| `version`              | The version of the `Supergraph` configuration, which is `v2`.                        | [Supergraph](#supergraph-supergraph)                         |
| `definition.subgraphs` | Paths to the subgraph configuration files that are included in the supergraph build. | [SupergraphDefinitionV2](#supergraph-supergraphdefinitionv2) |

### How the Subgraph config works {#subgraph}

### How the Connector config works {#connector}

### Supergraph {#supergraph-supergraph}

Defines the configuration used to build the Supergraph.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Supergraph` | true |  |
| `version` | `v2` | true |  |
| `definition` | [SupergraphDefinitionV2](#supergraph-supergraphdefinitionv2) | true |  |



#### SupergraphDefinitionV2 {#supergraph-supergraphdefinitionv2}

Supergraph Definition V2.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `subgraphs` | [string] | true | Paths to subgraph configuration. |

### Subgraph {#subgraph-subgraph}

Defines the configuration used to build the Subgraph.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Subgraph` | true |  |
| `version` | `v2` | true |  |
| `definition` | [SubgraphDefinitionV2](#subgraph-subgraphdefinitionv2) | true |  |



#### SubgraphDefinitionV2 {#subgraph-subgraphdefinitionv2}

Subgraph Definition V2.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | Subgraph Name. |
| `generator` | [SubgraphGeneratorConfig](#subgraph-subgraphgeneratorconfig) | true | Subgraph generator Configuration. |
| `envFile` | string | false | Path to the Subgraph .env file. |
| `includePaths` | [string] | true | Paths to be included to construct Subgraph metadata. |
| `envMapping` | [EnvMapping](#subgraph-envmapping) | false | Environment Variable mapping config. |
| `connectors` | [[SubgraphConnector](#subgraph-subgraphconnector)] | false | Connectors used in subgraph. |



#### SubgraphConnector {#subgraph-subgraphconnector}

Subgraph Connector config.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `path` | string | true | Path to connector config file. |
| `connectorLinkName` | string | false | Name of connector link associated with the connector. |



#### EnvMapping {#subgraph-envmapping}

Environment Variables mapping config.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | [EnvSource](#subgraph-envsource) | false | Target Environment variable. |



#### EnvSource {#subgraph-envsource}

Environment Variable Source.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `fromEnv` | string | true | Source Environment variable. |



#### SubgraphGeneratorConfig {#subgraph-subgraphgeneratorconfig}

Subgraph generator Configuration.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `rootPath` | string | true | Path to the directory which holds all the Subgraph metadata. |
| `graphqlRootFieldPrefix` | string | false | Prefix to use while generating GraphQL root fields. |
| `graphqlTypeNamePrefix` | string | false | Prefix to use while generating GraphQL type names. |
| `namingConvention` | `none` / `graphql` | false | Naming convention to use while generating GraphQL fields and types. |

### Connector {#connector-connector}

Defines the configuration used to build the connector.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `kind` | `Connector` | true |  |
| `version` | `v2` | true |  |
| `definition` | [ConnectorDefinitionV2](#connector-connectordefinitionv2) | true |  |



#### ConnectorDefinitionV2 {#connector-connectordefinitionv2}

Connector deployment definition V2.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `name` | string | true | Connector name. |
| `subgraph` | string | false | DDN project subgraph name. |
| `source` | string | true | Connector Hub ID. |
| `context` | string | true | Path to the context directory. |
| `envFile` | string | false | Path to the shared .env file. |
| `envMapping` | [EnvMapping](#connector-envmapping) | false | Environment Variable mapping config. |
| `regionConfiguration` | [[RegionConfigurationV2](#connector-regionconfigurationv2)] | false | Connector deployment Region configuration |



#### RegionConfigurationV2 {#connector-regionconfigurationv2}

Connector deployment Region Configuration V2.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `region` | string | true | Region to deploy the connector to. |
| `mode` | `ReadOnly` / `ReadWrite` | true | Connector deployment mode. |
| `envMapping` | [EnvMapping](#connector-envmapping) | false | Environment Variable mapping config. |



#### EnvMapping {#connector-envmapping}

Environment Variables mapping config.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `<customKey>` | [EnvSource](#connector-envsource) | false | Target Environment variable. |



#### EnvSource {#connector-envsource}

Environment Variable Source.

| Key | Value | Required | Description |
|-----|-----|-----|-----|
| `fromEnv` | string | true | Source Environment variable. |
## Metadata structure

