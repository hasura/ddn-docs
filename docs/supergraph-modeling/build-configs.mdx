---
sidebar_label: Build configs
description:
  "Add as many Supergraph objects as you need to define different configurations for building your supergraph and a
  Connector object for each connector in your supergraph."
seoFrontMatterUpdated: true
toc_max_heading_level: 4
sidebar_position: 3
---

# Build configs

## Introduction

Build configs are used to define the resources and other configurations required to build a **supergraph**, **subgraph**
or a **connector**. They are written in YAML and are defined in individual files.

It's helpful to think of build configs as a blueprint for building your supergraph.

### Supergraph config {#supergraph-config}

The [Supergraph](#supergraph-supergraph) object defines the configuration used to build the supergraph. While projects
are generated with default configs for building for local or Hasura DDN, you can add as many `Supergraph` objects as you
need to define different configurations for building your supergraph.

### Subgraph config {#subgraph-config}

**Each** subgraph in your supergraph has its own config. The [Subgraph](#subgraph-subgraph) object defines the
configuration used to build the subgraph. While subgraphs are generated with a default config, you can add as many
`Subgraph` objects as you need to define different configurations for building your subgraph.

### Connector config {#connector-config}

**Each** [data connector](/connectors/overview.mdx) in your supergraph has its own config. The
[Connector](#connector-connector) object defines the configuration used to build the connector. This allows you to
configure the capabilities of the connector and tailor it to your needs. While connectors are initialized with default
configs for building for local or Hasura DDN, you can add as many `Connector` objects as you need to define different
configurations for building your connector.

## Metadata structure

### Supergraph {#supergraph-supergraph}

Defines the configuration used to build the Supergraph.

| Key          | Value                                                        | Required | Description |
| ------------ | ------------------------------------------------------------ | -------- | ----------- |
| `kind`       | `Supergraph`                                                 | true     |             |
| `version`    | `v2`                                                         | true     |             |
| `definition` | [SupergraphDefinitionV2](#supergraph-supergraphdefinitionv2) | true     |             |

#### SupergraphDefinitionV2 {#supergraph-supergraphdefinitionv2}

Supergraph Definition V2.

| Key         | Value    | Required | Description                      |
| ----------- | -------- | -------- | -------------------------------- |
| `subgraphs` | [string] | true     | Paths to subgraph configuration. |

### Subgraph {#subgraph-subgraph}

Defines the configuration used to build the Subgraph.

| Key          | Value                            | Required | Description |
| ------------ | -------------------------------- | -------- | ----------- |
| `kind`       | `Subgraph`                       | true     |             |
| `version`    | `v2`                             | true     |             |
| `definition` | [SubgraphDefinitionV2](#subgraph-subgraphdefinitionv2) | true     |             |

#### SubgraphDefinitionV2 {#subgraph-subgraphdefinitionv2}

| Key            | Value                                                        | Required | Description                                          |
| -------------- | ------------------------------------------------------------ | -------- | ---------------------------------------------------- |
| `name`         | string                                                       | true     | Subgraph Name.                                       |
| `generator`    | [SubgraphGeneratorConfig](#subgraph-subgraphgeneratorconfig) | true     | Subgraph generator Configuration.                    |
| `envFile`      | string                                                       | false    | Path to the Subgraph .env file.                      |
| `includePaths` | [string]                                                     | true     | Paths to be included to construct Subgraph metadata. |
| `envMapping`   | [EnvMapping](#subgraph-envmapping)                           | false    | Environment Variable mapping config.                 |
| `connectors`   | [[SubgraphConnector](#subgraph-subgraphconnector)]           | false    | Connectors used in subgraph.                         |

#### SubgraphConnector {#subgraph-subgraphconnector}

Subgraph Connector config.

| Key                 | Value  | Required | Description |
| ------------------- | ------ | -------- | ----------- |
| `path`              | string | true     |             |
| `connectorLinkName` | string | false    |             |

#### EnvMapping {#subgraph-envmapping}

Environment Variables mapping config.

| Key           | Value                            | Required | Description |
| ------------- | -------------------------------- | -------- | ----------- |
| `<customKey>` | [EnvSource](#subgraph-envsource) | false    |             |

#### EnvSource {#subgraph-envsource}

Environment Variable Source.

| Key       | Value  | Required | Description |
| --------- | ------ | -------- | ----------- |
| `fromEnv` | string | true     |             |

#### SubgraphGeneratorConfig {#subgraph-subgraphgeneratorconfig}

Subgraph generator Configuration.

| Key                      | Value  | Required | Description                                                  |
| ------------------------ | ------ | -------- | ------------------------------------------------------------ |
| `rootPath`               | string | true     | Path to the directory which holds all the Subgraph metadata. |
| `graphqlRootFieldPrefix` | string | false    | Prefix to use while generating GraphQL root fields.          |
| `graphqlTypeNamePrefix`  | string | false    | Prefix to use while generating GraphQL type names.           |
| `namingConvention`       | string | false    |                                                              |

### Connector {#connector-connector}

Defines the configuration used to build the connector.

| Key          | Value                                                     | Required | Description |
| ------------ | --------------------------------------------------------- | -------- | ----------- |
| `kind`       | `Connector`                                               | true     |             |
| `version`    | `v2`                                                      | true     |             |
| `definition` | [ConnectorDefinitionV2](#connector-connectordefinitionv2) | true     |             |

#### ConnectorDefinitionV2 {#connector-connectordefinitionv2}

Connector deployment definition V2.

| Key                   | Value                                                       | Required | Description                               |
| --------------------- | ----------------------------------------------------------- | -------- | ----------------------------------------- |
| `name`                | string                                                      | true     | Connector name.                           |
| `subgraph`            | string                                                      | false    | DDN project subgraph name.                |
| `source`              | string                                                      | true     | Connector Hub ID.                         |
| `context`             | string                                                      | true     | Path to the context directory.            |
| `envFile`             | string                                                      | false    | Path to the shared .env file.             |
| `envMapping`          | [EnvMapping](#connector-envmapping)                         | false    | Environment Variable mapping config.      |
| `regionConfiguration` | [[RegionConfigurationV2](#connector-regionconfigurationv2)] | false    | Connector deployment Region configuration |

#### RegionConfigurationV2 {#connector-regionconfigurationv2}

Connector deployment Region Configuration V2.

| Key          | Value                               | Required | Description                          |
| ------------ | ----------------------------------- | -------- | ------------------------------------ |
| `region`     | string                              | true     | Region to deploy the connector to.   |
| `mode`       | `ReadOnly` / `ReadWrite`            | true     | Connector deployment mode.           |
| `envMapping` | [EnvMapping](#connector-envmapping) | false    | Environment Variable mapping config. |

#### EnvMapping {#connector-envmapping}

Environment Variables mapping config.

| Key           | Value                             | Required | Description |
| ------------- | --------------------------------- | -------- | ----------- |
| `<customKey>` | [EnvSource](#connector-envsource) | false    |             |

#### EnvSource {#connector-envsource}

Environment Variable Source.

| Key       | Value  | Required | Description |
| --------- | ------ | -------- | ----------- |
| `fromEnv` | string | true     |             |
