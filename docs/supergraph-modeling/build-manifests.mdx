---
sidebar_label: Build Manifests
description:
  "Add as many SupergraphManifests as you need to define different configurations for building your supergraph and a
  ConnectorManifest for each connector in your supergraph."
seoFrontMatterUpdated: true
toc_max_heading_level: 4
sidebar_position: 8
---

# Build Manifests

## Introduction

Build manifests are used to define the configuration for building your **supergraph** or a **connector**. Written in
YAML, these manifests are used to define the environment, subgraphs, and other configurations required to build a
supergraph or a [connector](/connectors/overview.mdx).

It's helpful to think of build manifests as a blueprint for building a supergraph or a connector.

### Supergraph manifests

The supergraph manifest defines the configuration used to build the supergraph. While projects are generated with a
default manifest, you can add as many SupergraphManifests as you need to define different configurations for building
your supergraph. A common example is creating a manifest for each [environment](/ci-cd/environments.mdx) you want to
build your supergraph in.

### Connector manifests

**Each** connector in your supergraph has its own manifest. The ConnectorManifest defines the configuration used to
build the connector. This allows you to configure the capabilities of the connector and tailor it to your needs.

:::info Use the CLI to generate manifests

A connector manifest can easily be generated using the CLI's [`add connector-manifest` command](#).

:::

## Metadata structure

### SupergraphManifest {#supergraphmanifest-supergraphmanifest}

Details of how to build the Supergraph.

| Key          | Value                                                                            | Required | Description                             |
| ------------ | -------------------------------------------------------------------------------- | -------- | --------------------------------------- |
| `kind`       | `SupergraphManifest`                                                             | true     |                                         |
| `version`    | `v1`                                                                             | true     |                                         |
| `definition` | [SupergraphManifestDefinition](#supergraphmanifest-supergraphmanifestdefinition) | true     | Details of how to build the Supergraph. |

#### SupergraphManifestDefinition {#supergraphmanifest-supergraphmanifestdefinition}

Details of how to build the Supergraph.

| Key           | Value    | Required | Description                                             |
| ------------- | -------- | -------- | ------------------------------------------------------- |
| `name`        | string   | true     | Name of the supergraph manifest.                        |
| `environment` | string   | true     | The environment to create the build in.                 |
| `envfile`     | string   | false    | Path to the YAML file containing environment variables. |
| `subgraphs`   | [string] | true     | Names of subgraphs to be considered.                    |

### ConnectorManifest {#connectormanifest-connectormanifest}

Defines the configuration used to build the connector.

| Key          | Value                                                                         | Required | Description                   |
| ------------ | ----------------------------------------------------------------------------- | -------- | ----------------------------- |
| `kind`       | `ConnectorManifest`                                                           | true     |                               |
| `version`    | `v1`                                                                          | true     |                               |
| `spec`       | [ConnectorManifestSpec](#connectormanifest-connectormanifestspec)             | true     | Connector Manifest Spec       |
| `definition` | [ConnectorManifestDefinition](#connectormanifest-connectormanifestdefinition) | true     | Connector Manifest Definition |

#### ConnectorManifestDefinition {#connectormanifest-connectormanifestdefinition}

Defines the configuration used to build a connector.

**One of the following values:**

| Value                                                                                         | Description |
| --------------------------------------------------------------------------------------------- | ----------- |
| [CloudConnectorManifestDefinition](#connectormanifest-cloudconnectormanifestdefinition)       |             |
| [EndpointConnectorManifestDefinition](#connectormanifest-endpointconnectormanifestdefinition) |             |

#### EndpointConnectorManifestDefinition {#connectormanifest-endpointconnectormanifestdefinition}

Defines the configuration used to build a local connector.

| Key           | Value                                                         | Required | Description                           |
| ------------- | ------------------------------------------------------------- | -------- | ------------------------------------- |
| `name`        | string                                                        | true     | Name of the connector.                |
| `type`        | `endpoints`                                                   | true     | Deployment type of the connector.     |
| `deployments` | [[EndpointDeployment](#connectormanifest-endpointdeployment)] | true     | Details about the connector endpoint. |

#### EndpointDeployment {#connectormanifest-endpointdeployment}

Details about the connector endpoint.

| Key        | Value                                               | Required | Description                |
| ---------- | --------------------------------------------------- | -------- | -------------------------- |
| `endpoint` | [ValueOrFromEnv](#connectormanifest-valueorfromenv) | true     | Endpoint of the connector. |

#### CloudConnectorManifestDefinition {#connectormanifest-cloudconnectormanifestdefinition}

Defines the configuration used to build a cloud connector.

| Key           | Value                                                   | Required | Description                                            |
| ------------- | ------------------------------------------------------- | -------- | ------------------------------------------------------ |
| `name`        | string                                                  | true     | Name of the connector.                                 |
| `type`        | `cloud`                                                 | true     | Deployment type of the connector.                      |
| `connector`   | [ConnectorType](#connectormanifest-connectortype)       | true     | Type of connector.                                     |
| `deployments` | [[CloudDeployment](#connectormanifest-clouddeployment)] | true     | Details about the cloud deployments for the connector. |

#### CloudDeployment {#connectormanifest-clouddeployment}

Details about the cloud deployments for the connector.

| Key       | Value                           | Required | Description                                    |
| --------- | ------------------------------- | -------- | ---------------------------------------------- |
| `context` | string                          | true     | Path of the connector context directory.       |
| `env`     | [Envs](#connectormanifest-envs) | true     | Environment variables for the connector build. |

#### Envs {#connectormanifest-envs}

Environment variables for the connector deployment.

| Key           | Value                                               | Required | Description |
| ------------- | --------------------------------------------------- | -------- | ----------- |
| `<customKey>` | [ValueOrFromEnv](#connectormanifest-valueorfromenv) | false    |             |

#### ValueOrFromEnv {#connectormanifest-valueorfromenv}

Specifies an explicit value for the Env var or loads it from provided Env vars to the command.

**One of the following values:**

| Value                                                 | Description |
| ----------------------------------------------------- | ----------- |
| [EnvValue](#connectormanifest-envvalue)               |             |
| [EnvValueFromEnv](#connectormanifest-envvaluefromenv) |             |

#### EnvValueFromEnv {#connectormanifest-envvaluefromenv}

Load Env var value from the provided Env vars to the command.

| Key            | Value  | Required | Description |
| -------------- | ------ | -------- | ----------- |
| `valueFromEnv` | string | true     |             |

#### EnvValue {#connectormanifest-envvalue}

Explicit value of an Env var.

| Key     | Value  | Required | Description |
| ------- | ------ | -------- | ----------- |
| `value` | string | true     |             |

#### ConnectorType {#connectormanifest-connectortype}

Connector Type information.

| Key    | Value            | Required | Description                         |
| ------ | ---------------- | -------- | ----------------------------------- |
| `type` | `hub` / `inline` | true     | Type of connector.                  |
| `name` | string           | false    | Hub connector ID (Name and version) |

#### ConnectorManifestSpec {#connectormanifest-connectormanifestspec}

Connector Manifest Spec

| Key                   | Value    | Required | Description                                                      |
| --------------------- | -------- | -------- | ---------------------------------------------------------------- |
| `supergraphManifests` | [string] | true     | List of SupergraphManifests this ConnectorManifest is a part of. |
