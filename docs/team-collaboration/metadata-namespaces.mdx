---
sidebar_position: 2
sidebar_label: Namespaces
description: Hasura collaboration namespaces
keywords:
  - hasura
  - graphql
  - collaboration
  - teams
  - namespaces
---

# Namespaces

:::danger Coming Soon

Coming soon on Hasura DDN.

:::

For a multi-team organization working on a Hasura DDN project, it can make sense for any one team to not have access to
all metadata objects. Namespaces introduces the notion of module system for metadata:

1. A project can have a collection of namespaces and the project's metadata is the 'union' of metadata objects across
   all namespaces of the project.
2. Each namespace can be updated independently.

The build operation for metadata with namespaces is governed by the following rules:

1. Teams can only update namespaces that they have access to.
2. A namespace is the owner of all its metadata objects and no other namespace can "modify" an entity owned by a
   namespace. For example,
   1. If a `shipping` namespace defines a model `TrackShipment`, no other namespace can add relationships on the model
      or permissions for a role on the model.
   2. If a `shipping` namespace adds a data source `shipping-crm`, no other namespace can define models on the
      `shipping-crm` data source.

A metadata with namespaces looks something like the following:

```json
[
  {
    "namespace": "foo",
    "metadata": [
      {<metadata obj>},
      {<metadata obj>}
    ]
  },
  {<metadata with namespace},
  ...
]
```

## Ownership Rules

The metadata objects in a namespaces must follow the ownership rules for the metadata objects:

### DataSource/ HasuraHubDataSource

The data source metadata object (`DataSource`/ `HasuraHubDataSource`) doesn't depend on (or references) any other
metadata object. Hence, any namespace can define a data source.

**Note**: The namespace that defines a data source owns it. This means that no other namespace can reference this data
source in their model, type representations, etc.

### ObjectType

The `ObjectType` metadata object also doesn't reference any other metadata object. Thus, any namespace can define an
`ObjectType` metadata object.

### DataConnectorScalarRepresentation

The `DataConnectorScalarRepresentation` metadata object references the data source metadata object. Thus, the data
source in a `DataConnectorScalarRepresentation` should be owned by the same namespace.

### ScalarType

The `ScalarType` metadata object also doesn't reference any other metadata object. Thus, any namespace can define an
`ScalarType` metadata object.

### Model

A `Model` metadata object references a data type. Also, the model's `source` references a data source and some data
types in type mappings. Thus, the same namespace should own the types and the data source.

### Command

A `Command` metadata object references an output data type. Thus, the namespace defining the `Command` metadata object
should also define the output data type.

### Relationship

The `Relationship` metadata object references a source type and a target type. The source type used in the
`Relationship` should be owned by the namespace defining the `Relationship`.

**Note**: The target type can be from any namespace. This allows us to define relationship across namespaces.

### TypeOutputPermissions

The `TypeOutputPermissions` metadata object references a type (for which the permission is being defined). Thus, the
namespace defining the `TypeOutputPermissions` should own the type referenced.

### ModelSelectPermissions

Similar to `TypeOutputPermissions`, the namespace should also own the model referenced in the `ModelSelectPermissions`
metadata object.

### CommandPermissions

The `CommandPermissions` metadata object references a command, which should be defined in the same namespace.

### AuthConfg

Any namespace can define this.

**Note**: There can be only one `AuthConfig` in the project's metadata. i.e. only one namespace can define one
`AuthConfig`, if there are more than one `AuthConfig`, then the metadata build will fail with the error
`Found duplicate authentication config`.

## Other Rules

Apart from ownership rules, the metadata with namespaces should also follow the following rules:

### Duplicate Namespaces

The metadata should not define two namespaces with same name.

### Duplicate Metadata Objects

The metadata should also not define same metadata object twice (either in the same namespace or in different
namespaces).
