---
sidebar_position: 2
sidebar_label: Namespaces
description: Hasura collaboration namespaces
keywords:
  - hasura
  - graphql
  - collaboration
  - teams
  - namespaces
---

# Namespaces

:::danger Coming Soon

Coming soon on Hasura DDN.

:::

For a multi-team organization working on a Hasura DDN project, it makes sense for a team to not have access to all the metadata
objects. Namespaces introduces the notion of module system for metadata:

1. A project can have a collection of namespaces and the project's metadata is the 'union' of metadata objects across
   all namespaces of the project.
2. Each namespace can be updated independently.

This patch operation on metadata is governed by the following rules:

1. Teams can only update namespaces that they have access to.
2. A namespace is the owner of all its metadata objects and no other namespace can "modify" an entity owned by a
   namespace. For example,
   1. If a `shipping` namespace defines a model `TrackShipment`, no other namespace can add relationships on the model
      or permissions for a role on the model.
   2. If a `shipping` namespace adds a data source `shipping-crm`, no other namespace can define models on the
      `shipping-crm` data source.

A metadata with namespaces looks something like the following:

```json
[
  {
    "namespace": "foo",
    "metadata": [
      {<metadata obj>},
      {<metadata obj>}
    ]
  },
  {<metadata with namespace},
  ...
]
```

## Ownership Rules

The metadata objects in a namespaces must follow the ownership rules for the metadata objects:

### DataSource/ PostgresDataSource

The data source metadata object (`DataSource`/ `PostgresDataSource`) doesn't depend on (or references) any other
metadata object. Hence, any namespace can define a data source.

**Note**: The namespace that defines a data source owns it. This means that no other namespace can reference this data
source in their `ModelSources`, `ScalarTypeRepresentation`, etc.

### ObjectType

The `ObjectType` metadata object also doesn't reference any other metadata object. Thus, any namespace can define an
`ObjectType` metadata object.

### ScalarTypeRepresentation

The `ScalarTypeRepresentation` metadata object references the data source metadata object. Thus, the data source in a
`ScalarTypeRepresentation` should be owned by the same namespace.

### NewType

The `NewType` metadata object is a wrapper around a type and thus it references a type. If the `NewType` is referencing
a `CustomType`, then the custom type should also be part of the same namespace.

### Model

A `Model` metadata object references a type and is dependent on a `ModelSource`. Thus, the same namespace should own the
type and `ModelSource` referenced by the `Model`.

### ModelSource

A `ModelSource` references types (in type mapping), model and data source. Thus, the same namespace should own the
following:

1. Types that are being mapped
2. `Model` referenced by the metadata object
3. Data source referenced by the metadata object

### Relationship

The `Relationship` metadata object references a source type and a target type. The source type used in the
`Relationship` should be owned by the namespace defining the `Relationship`.

**Note**: Please note that the the target type can be from any namespace.

### TypeOutputPermissions

The `TypeOutputPermissions` metadata object references a type (for which the permission is being defined). Thus, the
namespace defining the `TypeOutputPermissions` should own the type referenced.

### ModelSelectPermissions

Similar to `TypeOutputPermissions`, the namespace should also own the model referenced in the metadata object.

### GraphQLTypeDefinition

Similar to `ModelSelectPermissions`, the namespace should also own the graphql type referenced in the metadata object.

### ModelGraphQLAPI

The namespace defining the `ModelGraphQLAPI` should also own the `Model` used for the graphql API.

### ScalarTypeGraphQLRepresentation

The `ScalarTypeGraphQLRepresentation` metadata object references a data source. Thus, the same namespace should own data
source referenced in the metadata object.

### AuthConfg

Any namespace can define this.

## Other Rules

Apart from ownership rules, the metadata with namespaces should also follow the following rules:

### Duplicate Namespaces

The metadata should not define two namespaces with same name.

### Duplicate Metadata Objects

The metadata should also not define same metadata object twice (either in the same namespace or in different
namespaces).
