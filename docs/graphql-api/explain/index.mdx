---
description: "Explore Hasura's GraphQL query execution with this guide. Learn about various execution types like ModelSelect, CommandSelect, and HashJoin, and understand how Hasura's DDN optimizes query performance."
title: Explain Overview
sidebar_label: Explain
keywords:
  - graphql
  - hasura v3
  - query optimization
  - dataconnector
  - execution plan
  - modelselect
  - commandselect
  - hashjoin
sidebar_position: 1
seoFrontMatterUpdated: true
---

# Explaining Query Execution

The Hasura v3 engine can explain the GraphQL query execution plan.

The execution plan is represented as a tree of type [ExplainStep](#explainstep).

## ExplainStep

The `ExplainStep` can be one of the following:

1. `ModelSelect`: A select on the DataConnector's model
2. `CommandSelect`: A select on the DataConnector's command
3. `ForEach`: A for-each loop on the data returned by the parent step
4. `HashJoin`: A hash join of the data returned by the steps to construct valid response
5. `Sequence`: A sequential execution of steps
6. `Parallel`: A parallel execution of steps

### ModelSelect

A `ModelSelect` step represents fetching data from a Model. This will include fetching from the Model including local
relationships. For example, the following query's execution plan will be a `ModelSelect` only:

```graphql
query FetchAuthorAndArticles {
  AuthorMany { # backed by a Model
    author_id
    first_name
    Articles { # a local relationship
      title
    }
  }
}
```

[Click here](./api-reference/#modelselect) for the API reference of `ModelSelect`.

`placeholder for explain visualization`

### CommandSelect

Just like the [ModelSelect](#modelselect), a `CommandSelect` represents fetching data from a Command. [Click
here](./api-reference/#commandselect) for the API reference of `CommandSelect`.

`placeholder for explain visualization`

### ForEach

A ForEach step represents fetching data from a `DataConnector` for each of the data from the parent node. A `ForEach`
will always be present if wen need to fetch some additional data (as a remote relationship) for the data returned by
the parent node. For example, the following query's execution plan will have a `ForEach` step:

```graphql
query FetchAuthorAndArticles {
  AuthorMany { # backed by a Model
    author_id
    first_name
    Articles { # a remote relationship
      title
    }
  }
}
```

`placeholder for explain visualization`

### HashJoin

A `HashJoin` step represents joining the data fetched from two different steps. For example, the above query's execution
plan will have a `HashJoin` step for joining the `Articles` to `Authors`.

`placeholder for explain visualization`

### Sequence

A `Sequence` step represents a sequential execution of steps. For example, the following query's execution plan will
have a `Sequence` step (as we need to fetch the `Articles` for each of the `Authors` fetched):

```graphql
query FetchAuthorAndArticles {
  AuthorMany { # backed by a Model
    author_id
    first_name
    Articles { # a remote relationship
      title
    }
  }
}
```

`placeholder for explain visualization`

### Parallel

A `Parallel` step represents a parallel execution of steps. For example, the following query's execution plan will have
a `Parallel` step (as we can fetch `Author` and `Articles` in parallel):

```graphql
query FetchAuthorAndArticles {
  AuthorMany { # backed by a Model
    author_id
    first_name
  }
  Articles { # backed by a Model
    title
  }
}
```

`placeholder for explain visualization`

## Examples

Let's try understanding the execution plan by looking at some examples.

### Example 1

```graphql
query {
  Album {
    AlbumId
    ArtistId
    Artist { # a remote relationship
      ArtistId
    }
    Tracks { # a local relationship
      TrackId
      Album { # a remote relationship
        AlbumId
      }
    }
  }
}
```

In the above example, we are fetching the `Album` and its `Artist` and `Tracks`. We are also fetching the `Album` for
each of the `Tracks`. `Tracks` is a local relationship, whereas `Artist` (on `Album`) and `Album` (on `Tracks`) are
remote relationships.

`placeholder for explain visualization`

Now, from the explain plan, we can understand that:

- There are three sequential steps:
  - Make a selection from the model cities.
  - Do the following steps in parallel:
    - For each city, fetch the weather
    - For each state, fetch the weather
  - Hash join the results
