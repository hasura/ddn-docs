---
sidebar_position: 2
sidebar_label: Custom Queries
description:
  "Custom queries allow you to run custom SQL queries on your PostgreSQL database. This page explains how to configure
  custom queries in Hasura."
keywords:
  - native queries
  - custom queries
seoFrontMatterUpdated: false
---

# Custom Queries

## Introduction

Custom queries allow you to run custom SQL queries on your PostgreSQL database. This allows you to run queries that are
not supported by Hasura's GraphQL engine.

## Example

Here's an example which filters a table called `"Artist"`:

### Configuration

```json
"nativeQueries": {
  "artist_below_id": {
    "sql": {
      "inline": "SELECT * FROM public.\"Artist\" WHERE \"ArtistId\" < {{id}}"
    },
    "columns": {
      "ArtistId": {
        "name": "ArtistId",
        "type": {
          "scalarType": "int4"
        }
      },
      "Name": {
        "name": "Name",
        "type": {
          "scalarType": "varchar"
        }
      }
    },
    "arguments": {
      "id": {
        "name": "id",
        "type": {
          "scalarType": "int4"
        }
      }
    }
  }
}
```

This will create a query called `"artist_below_id"` which takes a single argument called `"id"` of type `int4`. The
query will return a list of objects with the fields `"ArtistId"` and `"Name"`.

Note that the SQL can be defined `inline`, and can also reference a `file` that exists in the configuration directory
using the following structure:

```yaml
"nativeQueries": {
  "artist_below_id": {
    "sql": {
      "file": "artist_below_id.sql"
    },
...
```

And the SQL can be written in the `artist_below_id.sql` file without escaping:

```sql
SELECT *
  FROM public."Artist"
 WHERE "ArtistId" < {{id}}
```

### Usage

With the example above, you can then use the query in your GraphQL API like this:

```graphql
query {
  artist_below_id(id: 10) {
    ArtistId
    Name
  }
}
```

### Native Queries SQL Requirements

Consult the [Native Queries SQL Requirements](/#NativeQueriesSqlRequirements) for more details.
