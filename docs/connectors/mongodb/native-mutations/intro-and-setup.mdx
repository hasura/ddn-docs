---
sidebar_position: 1
sidebar_label: Custom Mutations
description:
  "Custom mutations allow you to run custom commands on your MongoDB database using the runCommand API. This page explains
  how to configure custom mutations in Hasura."
keywords:
  - native mutations
  - custom mutations
seoFrontMatterUpdated: false
---

# Native Mutations

## Introduction

Native mutations allow you to run custom commands on your MongoDB database using the [runCommand][MongoDB: runCommand]
API that can be exposed via the Hasura GraphQL and modify the database state. As point-to-point mutations are not yet
supported, this is one way to mutate data using your GraphQL API.

## Setup

Native mutations can be defined by
1. Adding a `native_mutations` directory if one doesn't already exist in your connector configuration directory
2. Adding a `.json` file following the syntax laid out in the following sections.

## Example

Here's an example of simple `"insert_artist"` native procedure:

### Configuration

```json
{
  "name": "insertArtist",
  "description": "Example of a database insert using a native procedure",
  "resultType": {
    "object": "InsertArtist"
  },
  "arguments": {
    "artistId": {
      "type": {
        "scalar": "int"
      }
    },
    "name": {
      "type": {
        "scalar": "string"
      }
    }
  },
  "objectTypes": {
    "InsertArtist": {
      "fields": {
        "ok": {
          "type": {
            "scalar": "int"
          }
        },
        "n": {
          "type": {
            "scalar": "int"
          }
        }
      }
    }
  },
  "command": {
    "insert": "Artist",
    "documents": [
      {
        "ArtistId": "{{ artistId }}",
        "Name": "{{ name }}"
      }
    ]
  }
}
```

This will create a mutation called `"insertUser"` which takes two arguments called `"artistId"` of type `int`, and
`"name"` of type `string`. The query will return an object with the keys `"ok"` and `"n"` and the values as `int`s.

:::tip Valid Native Mutation Syntax

Check out our page on writing valid Hasura DDN [Native Query syntax](/connectors/mongodb/native-mutations/syntax.mdx).

:::

### Usage

With the example above, you can then use the query in your GraphQL API like this:

```graphql
mutation MyMutation {
  app_insertArtist(artistId: 10000, name: "Pearl Jam") {
    ok
    n
  }
}
```

[MongoDB: runCommand]: https://www.mongodb.com/docs/manual/reference/method/db.runCommand
