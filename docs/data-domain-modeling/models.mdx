---
sidebar_position: 5
sidebar_label: Models
description: Hasura Data Domain Specification models
keywords:
  - hasura
  - data
  - data domain specification
  - dds
  - models
---

# OpenDD Models

## Introduction

Models are the link between your data sources and the API Hasura generates. A model may be backed by a database table,
an ad-hoc SQL query, a pre-materialized view, a custom REST or GraphQL API server, etc.

Once a model is declared it will then often be referenced by `Relationship` and/or `Permissions` objects.

## Description

To create a model, you need to define an OpenDD object with `"kind": "Model"`, which has the following fields:

### Metadata structure

```json
{
  "kind": "Model",
  "name": "<ModelName>",
  "dataType": "<TypeName>",
  "globalIDSource": true | false,
  "source": "<SourceConfiguration>",
  "graphql": "<GraphQLConfiguration>",
}
```

| Field            | Type                                                               | Required | Description                                                           |
| ---------------- | ------------------------------------------------------------------ | -------- | --------------------------------------------------------------------- |
| `name`           | `String`                                                           | true     | Name of the model.                                                    |
| `dataType`       | `String`                                                           | true     | [Type](/data-domain-modeling/types.mdx) of this model.                |
| `globalIDSource` | `Boolean`                                                          | false    | If a [Global ID](./global-id.mdx) should be generated for this model. |
| `source`         | [`SourceConfiguration`](/data-domain-modeling/models.mdx/#source)  | true     | Source configuration for the model.                                   |
| `graphql`        | [`GraphQLConfiguration`](data-domain-modeling/models.mdx/#graphql) | true     | GraphQL configuration for the model.                                  |

#### SourceConfiguration

Source is an object that defines the data source for the model. It has the following fields:

```json
{
  "dataSource": "<DataSourceName>",
  "collection": "<CollectionName>",
  "typeMappings": "<TypeMappings>"
}
```

| Field          | Type           | Required | Description                  |
| -------------- | -------------- | -------- | ---------------------------- |
| `dataSource`   | `String`       | true     | Name of the data source.     |
| `collection`   | `String`       | true     | Name of the collection.      |
| `typeMappings` | `TypeMappings` | true     | Type mappings for the model. |

#### GraphQLConfiguration

GraphQL is an object that defines the GraphQL configuration for the model. It has the following fields:

```json
{
  "selectUniques": "<SelectUniques>",
  "selectMany": "<SelectMany>",
  "filterExpressionType": "<FilterExpressionType>",
  "orderByExpressionType": "<OrderByExpressionType>"
}
```

| Field           | Type     | Required | Description                                 |
| --------------- | -------- | -------- | ------------------------------------------- |
| `selectUniques` | `Array`  | true     | Select uniques configuration for the model. |
| `selectMany`    | `Object` | true     | Select many configuration for the model.    |
| `filter`        | `String` | true     | Filter configuration for the model.         |
| `orderBy`       | `String` | true     | Order by configuration for the model.       |

## Examples

```json
{
  "kind": "Model",
  "name": "Authors",
  "dataType": "author",
  "globalIDSource": true,
  "source": {
    "dataSource": "db",
    "collection": "authors",
    "typeMappings": {
      "author": {
        "fieldMappings": {
          "author_id": {
            "column": "id"
          },
          "first_name": {
            "column": "first_name"
          },
          "last_name": {
            "column": "last_name"
          }
        }
      }
    }
  },
  "graphql": {
    "selectUniques": [
      {
        "queryRootField": "AuthorByID",
        "uniqueIdentifier": ["author_id"]
      }
    ],
    "selectMany": {
      "queryRootField": "AuthorMany"
    },
    "filterExpressionType": "Author_Where_Exp",
    "orderByExpressionType": "Author_Order_By"
  }
}
```
