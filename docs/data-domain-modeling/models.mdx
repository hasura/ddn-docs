---
sidebar_position: 3
sidebar_label: Models
description:
  Learn how to create and manage Hasura data domain models. These models are crucial links between your data sources and
  the Hasura generated API.
toc_max_heading_level: 4
keywords:
  - hasura
  - data domain models
  - opendd models
  - hasura api
  - data sources
  - graphql configuration
  - model creation
  - hasura database
  - source configuration
  - rest api
seoFrontMatterUpdated: true
---

# OpenDD Models

## Introduction

Models are the link between your data connectors and the API Hasura generates. A model may be backed by a database table,
an ad-hoc SQL query, a pre-materialized view, a custom REST or GraphQL API server, etc.

Once a model is declared it will then often be referenced by `Relationship` and/or `Permissions` objects.

## Description

To create a model, you need to define an OpenDD object with `"kind": "Model"`, which has the following fields:

### Metadata structure

```yaml
kind: Model
name: <ModelName>
objectType: <TypeName>
globalIDSource: true | false
source: <SourceConfiguration>
graphql: <GraphQLConfiguration>
```

| Field            | Type                                                               | Required | Description                                                           |
| ---------------- | ------------------------------------------------------------------ | -------- | --------------------------------------------------------------------- |
| `name`           | `String`                                                           | true     | Name of the model.                                                    |
| `objectType`     | `String`                                                           | true     | [Type](/data-domain-modeling/types.mdx) of this model.                |
| `globalIDSource` | `Boolean`                                                          | false    | If a [Global ID](./global-id.mdx) should be generated for this model. |
| `source`         | [`SourceConfiguration`](/data-domain-modeling/models.mdx/#source)  | true     | Source configuration for the model.                                   |
| `graphql`        | [`GraphQLConfiguration`](data-domain-modeling/models.mdx/#graphql) | true     | GraphQL configuration for the model.                                  |

#### SourceConfiguration

Source is an object that defines the data source for the model. It has the following fields:

```yaml
dataConnectorName: <DataConnectorName>
collection: <CollectionName>
typeMapping: <TypeMapping>
```

| Field          | Type                                               | Required | Description                  |
| -------------- | -------------------------------------------------- | -------- | ---------------------------- |
| `dataConnector`| `String`                                           | true     | Name of the data source.     |
| `collection`   | `String`                                           | true     | Name of the collection.      |
| `typeMapping`  | [`TypeMapping`](./common-syntax.mdx#typemapping)   | true     | Type mappings for the model. |

#### GraphQLConfiguration

GraphQL is an object that defines the GraphQL configuration for the model. It has the following fields:

```yaml
selectUniques: <SelectUniques>
selectMany: <SelectMany>
filterExpressionType: <FilterExpressionType>
orderByExpressionType: <OrderByExpressionType>
argumentsInputType: <ArgumentsInputType>
```

| Field                   | Type                                | Required | Description                                                                        |
| ----------------------- | ----------------------------------- | -------- | ---------------------------------------------------------------------------------- |
| `selectUniques`         | [`[SelectUniques]`](#selectuniques) | true     | Select uniques configuration for the model.                                        |
| `selectMany`            | [`SelectMany`](#selectmany)         | false    | Select many configuration for the model.                                           |
| `filterExpressionType`  | `String`                            | false    | GraphQL type name for the filter input. Default - `<ModelName>_bool_exp`           |
| `orderByExpressionType` | `String`                            | false    | GraphQL type name for the order by input. Default - `<ModelName>_order_by`         |
| `argumentsInputType`    | `String`                            | false    | GraphQL type name for the model arguments input. Default - `<ModelName>_arguments` |

##### SelectUniques

Select uniques is an array of objects that define the unique identifiers for the model. It has the following fields:

```yaml
queryRootField: <QueryRootField>
uniqueIdentifier: <UniqueIdentifier>
```

| Field              | Type     | Required | Description                                                          |
| ------------------ | -------- | -------- | -------------------------------------------------------------------- |
| `queryRootField`   | `String` | true     | Name of the query root field.                                        |
| `uniqueIdentifier` | `Array`  | true     | Set of fields which can uniquely identify a row/object in the model. |

##### SelectMany

Select many is an object that defines the select many configuration for the model. It has the following fields:

```yaml
queryRootField: <QueryRootField>
```

| Field            | Type     | Required | Description             |
| ---------------- | -------- | -------- | ----------------------- |
| `queryRootField` | `String` | true     | Name of the query root. |

## Examples

In this example, we're creating a model called `Authors` backed by a database table called `authors` in the `db` data
source:

```yaml
kind: Model
name: Authors
objectType: author
globalIdSource: true
source:
  dataConnectorName: db
  collection: authors
  typeMapping:
    author:
      fieldMapping:
        author_id:
          column: id
        first_name:
          column: first_name
        last_name:
          column: last_name
graphql:
  selectUniques:
    - queryRootField: AuthorByID
      uniqueIdentifier:
        - author_id
  selectMany:
    queryRootField: AuthorMany
  filterExpressionType: Author_Where_Exp
  orderByExpressionType: Author_Order_By
```
