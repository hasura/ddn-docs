---
sidebar_position: 6
sidebar_label: Commands
description: Hasura Data Domain Specification Commands
keywords:
  - hasura
  - data
  - data domain specification
  - dds
  - commands
---

# Hasura Data Domain Specification Commands

## Introduction

Commands are a convenient way to achieve any business logic you may need, directly from your GraphQL API. You can use
them to validate, process or enrich some data, call another API, or log a user in. For eg: With Commands you can connect
to a REST endpoint which can be your own custom server, a public API, or a serverless function.

In the Open Data Domain Specification (OpenDD Spec), commands represent an action that can be performed which returns
back some result of a certain [type](./types.mdx).

They are backed by functions or procedures declared in a `DataSource`. Commands are objects on which you will
define and configure user facing capabilities in your API. These will be extended in future releases according to the
[OpenDD Spec](https://github.com/hasura/open-data-domain-specification).

## Description

To create a command, you need to define a OpenDD object with `"kind": "Command"`,
which has both `name` and `outputType` fields.

### Metadata structure

```json
{
  "kind": "Command",
  "name": "<CommandName>",
  "arguments": "<ArgumentDefinition>",
  "outputType": "<Type>",
  "source": "<CommandSourceConfiguration>",
  "graphql": "<GraphQLConfiguration>",
}
```

| Field          | Type       | Required | Description                                                                   |
| -------------- | ---------- | -------- | ----------------------------------------------------------------------------- |
| name           | `String`   | true     | Name of the command.                                                          |
| outputType     | `String`   | true     | The name of the return type of command (either Custom/Primitive/Container).   |
| arguments      | `[Object]` | false    | The argument definition for the command                                       |
| source         | `Object`   | true     | Source configuration for the command.                                         |
| graphql        | `Object`   | true     | GraphQL configuration for the command.                                        |

#### Arguments

Arguments is a list of objects that defines the arguments for the command. An argument object has the following fields:

```json
{
  "name": "<ArgumentType>",
  "type": "<Type>"
}
```
| Field  | Type     | Required | Description            |
| ------ | -------- | -------- | ---------------------- |
| name   | `String` | true     | Name of the argument.  |
| type   | `String` | true     | Type of the argument   |


#### Source

Source is an object that defines the data source for the command. It has the following fields:

```json
{
  "dataSource": "<DataSourceName>",
  "function/procedure": "<CollectionName>",
  "typeMappings": "<TypeMappings>"
}
```
A command can either be backed by a function or a procedure. 

| Field              | Type     | Required | Description                                                                |
| ------------------ | -------- | -------- | -------------------------------------------------------------------------- |
| dataSource         | `String` | true     | Name of the data source.                                                   |
| function/procedure | `String` | true     | Name of the function or procedure.                                         |
| typeMappings       | `Object` | false    | Type mappings for the command. Required only if `outputType` is Custom     |
| argumentMappings   | `Object` | false    | Argument mappings for the command. Required only if `arguments` is defined |


#### GraphQL

GraphQL is an object that defines the GraphQL configuration for the command. It
has the following fields:

```json
{
  "rootFieldName": "<GraphQlFieldName>",
  "rootFieldKind": "<GraphQlRootFieldKind>"
}
```

| Field         | Type     | Required | Description                                            |
| ------------- | -------- | -------- | ------------------------------------------------------ |
| rootFieldName | `String` | true     | The graphql root field name for the command            |
| rootFieldKind | `String` | true     | The type of graphql operation (`Query` or `Mutation`)  |

## Examples

```json
{
  "kind": "Command",
  "name": "get_article_by_id",
  "arguments": [
    {
      "name": "article_id",
      "type": "Int"
    }
  ],
  "outputType": "commandArticle",
  "source": {
      "dataSource": "db",
      "function": "get_article_by_id",
      "typeMappings": {
          "commandArticle": {
              "fieldMappings": {
                  "article_id": {
                      "column": "id"
                  },
                  "title": {
                      "column": "title"
                  },
                  "author_id": {
                      "column": "author_id"
                  }
              }
          }
      },
    "argumentMappings": {
      "article_id": "id"
    }  
  },
  "graphql": {
      "rootFieldName": "getLatestArticle",
      "rootFieldKind": "Query"
  }
}
```
