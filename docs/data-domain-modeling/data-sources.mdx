---
sidebar_position: 3
sidebar_label: Data Sources
description: Hasura Data Domain Specification for Data Source
toc_max_heading_level: 4
keywords:
  - hasura
  - data
  - data domain specification
  - dds
  - datasource
  - source
---

# OpenDD Data Sources

## Introduction

A `DataSource` is a way to specify where your data comes from and how it can be used. It can connect to various types of
data, like SQL databases, NoSQL databases, REST APIs, GraphQL APIs, files, and more.

In the Open Data Domain Specification (OpenDD spec), every data source must have a connector URL and a schema. This
schema defines how the data is structured and what operations can be performed on the data.

Once you've declared a data source, you can use it in your [model's](/data-domain-modeling/models.mdx) configuration by
[referencing it with the `source`](/data-domain-modeling/models.mdx/#source) property, which connects that model to the
respective data source.

## Description

To create a `DataSource`, start by defining an OpenDD object with the `kind` set to `DataSource`. This object should
include three fields: `name`, `data_connector_url`, and `schema` and an optional field `auth`.

```json
{
  "kind": "DataSource",
  "name": "<DataSourceName>",
  "data_connector_url": "<DataConnectorURL>",
  "auth": "<DataSourceAuth>",
  "schema": "<SchemaResponse>"
}
```

| Field                | Type                                    | Required | Description                                                                                                                            |
| -------------------- | --------------------------------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| `name`               | `String`                                | true     | Name of the Data Source.                                                                                                               |
| `data_connector_url` | [`DataConnectorURL`](#dataconnectorurl) | true     | URL to access the data source connector.                                                                                               |
| `auth`               | [`DataSourceAuth`](#datasourceauth)     | false    | Authentication configuration to access the data source connector.                                                                      |
| `schema`             | [`SchemaResponse`](#schemaresponse)     | true     | The schema response from the data connector. This includes `scalar_types`, `object_type`, `collections`, `functions` and `procedures`. |

### DataConnectorURL

`DataConnectorURL` is an object that defines URLs for a Data-Connector. It contains the following fields:

```json
{
  "url": "<String URL used for fallback>",
  "reads": "<optional string of read Data-Connector URL>",
  "writes": "<optional string of write Data-Connector URL>"
}
```

Data Connector URL is used to access the data source connector based on the GraphQL operation type. For example, if the
operation type is `Query` or `Subscription`, then the `reads` URL will be used to access the data source connector.
Similarly, for a `Mutation` operation, the `writes` URL will be used. If either `reads` or `writes` are not provided,
`url` will be used in their place.

| Field    | Type     | Required | Description                                            |
| -------- | -------- | -------- | ------------------------------------------------------ |
| `url`    | `String` | true     | Fallback Data-Connector URL.                           |
| `reads`  | `String` | false    | Data-Connector URL for reads (Query and Subscription). |
| `writes` | `String` | false    | Data-Connector URL for writes (Mutation).              |

### DataSourceAuth

`DataSourceAuth` is an object that defines the authentication configuration to access the data source connector. This
will be forwarded to the specified data source connector as an `Authorization: Bearer <token>` header.

| Field   | Type     | Required | Description                                             |
| ------- | -------- | -------- | ------------------------------------------------------- |
| `type`  | `Bearer` | true     | Currently we only support `Bearer` type authentication. |
| `token` | `String` | true     | Token required to access the data source connector.     |

### SchemaResponse

`SchemaResponse` is an object that defines the types, schema, functions, etc. of the data source. This is usually
provided by the `/schema` endpoint of the data connector. It contains the following fields:

```json
{
  "scalar_types": "<ScalarTypes>",
  "object_types": "<ObjectTypes>",
  "collections": "<Collections>",
  "functions": "<Functions>",
  "procedures": "<Procedures>"
}
```

The structure and detailed documentation of these fields can be found
[here](https://hasura.github.io/ndc-spec/specification/schema/index.html).

## Example

```json
{
  "kind": "DataSource",
  "name": "my_data_source",
  "data_connector_url": "http://localhost:8080",
  "schema": {
    "scalar_types": {
      "String": {
        "aggregate_functions": {},
        "comparison_operators": {
          "like": {
            "argument_type": {
              "type": "named",
              "name": "String"
            }
          }
        },
        "update_operators": {}
      },
      "Int": {
        "aggregate_functions": {
          "min": {
            "result_type": {
              "type": "nullable",
              "underlying_type": {
                "type": "named",
                "name": "Int"
              }
            }
          },
          "max": {
            "result_type": {
              "type": "nullable",
              "underlying_type": {
                "type": "named",
                "name": "Int"
              }
            }
          }
        },
        "comparison_operators": {},
        "update_operators": {}
      }
    },
    "object_types": {
      "Artist": {
        "description": "An artist",
        "fields": {
          "ArtistId": {
            "description": "The artist's primary key",
            "arguments": {},
            "type": {
              "type": "named",
              "name": "Int"
            }
          },
          "Name": {
            "description": "The artist's name",
            "arguments": {},
            "type": {
              "type": "named",
              "name": "String"
            }
          }
        }
      },
      "Album": {
        "description": "An album",
        "fields": {
          "AlbumId": {
            "description": "The album's primary key",
            "arguments": {},
            "type": {
              "type": "named",
              "name": "Int"
            }
          },
          "Title": {
            "description": "The album's title",
            "arguments": {},
            "type": {
              "type": "named",
              "name": "String"
            }
          },
          "ArtistId": {
            "description": "The album's artist ID",
            "arguments": {},
            "type": {
              "type": "named",
              "name": "Int"
            }
          }
        }
      },
      "Track": {
        "description": "A track",
        "fields": {
          "TrackId": {
            "description": "The track's primary key",
            "arguments": {},
            "type": {
              "type": "named",
              "name": "Int"
            }
          },
          "Name": {
            "description": "The track's name",
            "arguments": {},
            "type": {
              "type": "named",
              "name": "String"
            }
          },
          "AlbumId": {
            "description": "The track's album ID",
            "arguments": {},
            "type": {
              "type": "named",
              "name": "Int"
            }
          }
        }
      },
      "artist_below_id": {
        "description": "An artist",
        "fields": {
          "ArtistId": {
            "description": "The artist's primary key",
            "arguments": {
              "id": {
                "description": "The cyling id",
                "type": {
                  "type": "named",
                  "name": "Int"
                }
              }
            },
            "type": {
              "type": "named",
              "name": "Int"
            }
          },
          "Name": {
            "description": "The artist's name",
            "arguments": {},
            "type": {
              "type": "named",
              "name": "String"
            }
          }
        }
      }
    },
    "collections": [
      {
        "name": "Artist",
        "description": "A collection of artists",
        "arguments": {},
        "type": "Artist",
        "deletable": false,
        "uniqueness_constraints": {
          "ArtistById": {
            "unique_columns": ["ArtistId"]
          }
        },
        "foreign_keys": {}
      },
      {
        "name": "Album",
        "description": "A collection of albums",
        "arguments": {},
        "type": "Album",
        "deletable": false,
        "uniqueness_constraints": {
          "AlbumById": {
            "unique_columns": ["AlbumId"]
          }
        },
        "foreign_keys": {}
      },
      {
        "name": "Track",
        "description": "A collection of tracks",
        "arguments": {},
        "type": "Track",
        "deletable": false,
        "uniqueness_constraints": {
          "TrackById": {
            "unique_columns": ["TrackId"]
          }
        },
        "foreign_keys": {}
      },
      {
        "name": "artist_below_id",
        "description": "A collection of artists below a certain id",
        "arguments": {
          "id": {
            "description": "The ceiling id",
            "type": {
              "type": "named",
              "name": "Int"
            }
          }
        },
        "type": "Artist",
        "deletable": false,
        "uniqueness_constraints": {},
        "foreign_keys": {}
      }
    ],
    "functions": [],
    "procedures": []
  }
}
```
