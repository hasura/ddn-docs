---
sidebar_position: 2
sidebar_label: Get Started with Hasura
description: Hasura gives you instant GraphQL on all your data
keywords:
  - hasura
  - graphql
  - get started
  - guide
  - tutorial
---

import Thumbnail from "@site/src/components/Thumbnail";
import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Getting Started with Hasura

In this guide, we'll walk you through the steps to create a new Hasura project, connect a database, execute your first
query, and create lightning-fast production builds. Throughout this guide, you'll be introduced to new Hasura concepts,
like builds, our new metadata structure, and more.

## Introduction

This guide allows you to use the Console or the CLI. **If you're using the CLI, you'll need to first install it by
following [these instructions](/ci-cd/hasura-cli.mdx).**

:::info We're using seed data from the docs sample app

If you have your own database with tables and data, feel free to use that instead.

You can find the relevant files that we'll use throughout this guide here:

- âœ…
  [Up migration](https://raw.githubusercontent.com/hasura/docs-sample-app/main/migrations/default/1669033533483_init/up.sql)
- âœ… [Seed data](https://raw.githubusercontent.com/hasura/docs-sample-app/main/seeds/default/tables_seed.sql)
- âœ… [Sample metadata file](https://raw.githubusercontent.com/hasura/docs-sample-app/main/v3/metadata.yaml) (following
  the Open DD Spec)

If you plan to use this sample data, ensure you've applied the up migration and seeded your database. Check out our
friends at [Neon](https://neon.tech) if you're looking for a free, hosted PostgreSQL database.

:::

## Step 1: Log into Hasura

<Tabs groupId="user-preference" className="api-tabs">

<TabItem value="console" label="Console">

Go to the [Hasura Console](https://console.hasura.io) and sign into your account:

<Thumbnail src="/img/get-started/0.0.1_console-login.png" alt="Log into Hasura Console" width="1000px" />

</TabItem>

<TabItem value="cli" label="CLI">

To keep your connection and authentication details secure, you'll need a personal access token (PAT) from Hasura Cloud:

1. Head [here](https://cloud.hasura.io/account-settings/access-tokens) to generate your PAT.
2. Use the following command to add the token to the CLI, thereby logging you in:

```bash
hasura3 cloud login --pat <YOUR_PAT>
```

:::info New CLI?!

Yep! If you can't tell already, we've completely rewritten the CLI from the ground up. You can learn more about the new
commands by running:

```bash
hasura3 --help
```

:::

</TabItem>

</Tabs>

## Step 2: Create a new project

<Tabs groupId="user-preference" className="api-tabs">

<TabItem value="console" label="Console">

Click on the `Create ->` button to create a new project:

<Thumbnail src="/img/get-started/0.0.1_console-create-project.png" alt="Create new project" width="1000px" />

Upon your project's successful creation, you'll be brought to its GraphiQL Explorer. You'll notice that there are no
types available in your GraphQL API. That will soon change!

<Thumbnail src="/img/get-started/0.0.1_console-click-metadata.png" alt="Empty GraphiQL" width="1000px" />

</TabItem>

<TabItem value="cli" label="CLI">

To create a new local project, use the following command, passing the directory where you want to create the metadata
file as an argument. This command will create a `metadata.yaml` file by default:

```bash
hasura3 local init --dir <PROJECT_DIRECTORY>
```

You can then create the corresponding project on Hasura using the following command:

```bash
hasura3 cloud project create
```

The CLI will return information about your project:

```text
 Creating project... ok
 Name         <PROJECT_NAME>
 ID           <PROJECT_ID>
 Console URL  https://console.hasura.io/project/<PROJECT_ID>/graphql
```

:::info What's a local project?

Each project in Hasura will have a corresponding local project that will be used for development. This local project
only contains the Hasura metadata file that follows the new metadata format of the
[Open Data Domain Specification (Open DD Spec)](https://github.com/hasura/open-data-domain-specification), and can be a
`.yaml` or a `.json` file. This file can be checked into version control along with other files (if any) of your project
and can be shared.

:::

</TabItem>

</Tabs>

## Step 3: Connect a data source

<Tabs groupId="user-preference" className="api-tabs">

<TabItem value="console" label="Console">

Head to your project's metadata by clicking on the `Metadata` tab on the left. We'll begin by connecting to a data
source via the `+ Connect` button:

<Thumbnail
  src="/img/get-started/0.0.1_console-connect-data-source.png"
  alt="Click to connect data source"
  width="1000px"
/>

Enter a name for your data source, and select the `Postgres` option. At the bottom of the modal, enter your connection
string and then click `Connect`:

<Thumbnail src="/img/get-started/0.0.1_console-add-connection-string.png" alt="Add connection details" width="1000px" />

:::info All those tables!

If your database has tables present, Hasura automatically detected all of them and added them to your project's metadata
ðŸŽ‰

:::

</TabItem>

<TabItem value="cli" label="CLI">

Hasura will determine the connection details for your database using the metadata file we created when initing the
project. If you'd like to test using the docs sample app data, we have a sample `metadata.yaml` file for you
[here](https://raw.githubusercontent.com/hasura/docs-sample-app/main/v3/metadata.yaml) ðŸŽ‰

You'll need to modify the following value in your local project's `metadata.yaml`:

```yaml
postgres_database_url: <YOUR_DATABASE_URL>
```

Then, save the file.

</TabItem>

</Tabs>

## Step 4: Import models

<Tabs groupId="user-preference" className="api-tabs">

<TabItem value="console" label="Console">

Now that we've connected to a data source, we can import **models** from it to our metadata. Click on the `+ Import`
button next to `Models` to begin:

<Thumbnail src="/img/get-started/0.0.1_console-add-models.png" alt="Click + Import for Models" width="1000px" />

We'll then choose our data source, check the box for all of the tables we want to import, and click `Import`:

<Thumbnail src="/img/get-started/0.0.1_console-check-all-import.png" alt="Add models" width="1000px" />

While we're here, check out the `Relationships` section of your metadata file. Hasura automatically detected the
relationships between your tables. You can add them by clicking the `+ Import` button:

<Thumbnail
  src="/img/get-started/0.0.1_console-show-relationships.png"
  alt="Show relationships in metadata view"
  width="1000px"
/>

You can even keep scrolling and see the newly-generated `Types` and `GraphQL Interface` sections of your metadata file.

</TabItem>

<TabItem value="cli" label="CLI">

Hasura will use your metadata file to import models and other relevant information to build a GraphQL API. If you're
using our sample app's data, we've already shaped this metadata for you and you've already imported it in the previous
step.

If you're curious about authoring these types of files, check the Data Domain Modeling section of the docs.

</TabItem>

</Tabs>

:::info What are models?

This is the first new concept we've introduced in this guide. models are a new way to represent your data in Hasura.

Models in the Open DD Spec refer to a collection of objects (such as rows in a relational database, or documents in a
NoSQL database) of a given Open DD Spec type. Models are backed by a data source and can support CRUD operations. You
can learn more about models [here](/data-domain-modeling/models.mdx).

:::

## Step 5: Create a new build

<Tabs groupId="user-preference" className="api-tabs">

<TabItem value="console" label="Console">

Now that we've connected to a data source and imported our models, we're ready to create a new **build**. Click on the
`+ Create New Build` button in the top-right corner of the Console:

<Thumbnail src="/img/get-started/0.0.1_create-new-build.png" alt="Create a new build" width="1000px" />

You can even add a short description so you and your teammates know what this build modifies.

</TabItem>

<TabItem value="cli" label="CLI">

Create a build using the following command:

```bash
hasura3 cloud build create --project-id <PROJECT_ID> --metadata-file <METADATA_FILE>
```

The CLI will return:

- a build ID
- a build Version
- a GraphQL API Endpoint for this build

We'll use this information in the next step to test our API!

</TabItem>

</Tabs>

:::info What's a build?

Builds are a new concept in Hasura that allow you to quickly iterate and prototype on your project's metadata. A build
is an immutable, fully-functioning GraphQL API that represents a milestone in your development cycle.

It may be helpful to think of builds as git commits. Since each is deployed on Hasura Cloud, it can be shared with other
users.

Each build is completely independent. One project can have multiple builds, out of which, one is applied to production.
This workflow allows for easier rollbacks on production, and greater collaboration during development.

:::

## Step 6: Run your first query

<Tabs groupId="user-preference" className="api-tabs">

<TabItem value="console" label="Console">

Assuming you have some tables and data in your database, you can now run your first query! Click on the `GraphiQL`
button in the left-hand sidenav of the Console.

We're using the docs sample app's schema for this guide's visuals, but you can use the Explorer to create your query or
write it manually:

<Thumbnail src="/img/get-started/0.0.1_console-execute-query-on-build.png" alt="Execute a query" width="1000px" />

</TabItem>

<TabItem value="cli" label="CLI">

Take the GraphQL API endpoint provided by the CLI in the previous step, and execute a curl request:

```bash
curl -X POST -H "Content-Type: application/json" -H "hasura_cloud_pat: <YOUR_PAT>" -d '{"query": "{ users { id name } }"}' <YOUR_BUILD_GRAPHQL_ENDPOINT>
```

In the example above, we're hitting our most recent build's endpoint and assuming there's a `users` table with
properties `id` and `name`. Modify this command as necessary to fit your project's metadata.

Additionally, you can head to the Console on [Hasura Cloud](https://console.hasura.io) and see this build's GraphiQL
Explorer by clicking on the `GraphiQL` button in the left-hand sidenav of the Console.

:::info Where can I find my PAT?

If you head to the project's Console URL (which was returned by the CLI when you created the project), you'll see a
header on the GraphiQL Explorer with your PAT. While you're there, you can also query your API â€” but, we're
demonstrating it via curl to show you that you can query your API from anywhere!

:::

</TabItem>

</Tabs>

## Step 7: Apply your build

<Tabs groupId="user-preference" className="api-tabs">

<TabItem value="console" label="Console">

After you're satisfied your API is behaving as expected, click the `build_id` in the bottom navigation bar. This will
bring up all your project's builds and allow you to choose one to apply. Click the `Apply` button to apply your build:

<Thumbnail src="/img/get-started/0.0.1_console-apply-build.png" alt="Apply a build" width="1000px" />

</TabItem>

<TabItem value="cli" label="CLI">

To apply a build, use the following command:

```bash
hasura3 cloud build apply --project-id <PROJECT_ID> --build-id <BUILD_ID>
```

:::tip Quickly find IDs for Projects and builds!

You can use the following command to list your projects:

```bash
hasura3 cloud project list
```

You can use the following command to list your builds:

```bash
hasura3 cloud build list --project-id <PROJECT_ID>
```

:::

</TabItem>

</Tabs>

:::info What does it mean to apply a build?

Applying a build means that it's being promoted to your project's production environment. **This is a new concept in
Hasura which allows you to quickly iterate â€” and, if needed, roll back â€” your project's metadata to all of your users,
worldwide.**

:::

## Step 8: Query your production endpoint

<Tabs groupId="user-preference" className="api-tabs">

<TabItem value="console" label="Console">

At the top of the Console, you'll see a toggle that allows you to switch between your project's applied build and your
project's currently selected build. Toggle to your project's applied build:

<Thumbnail src="/img/get-started/0.1.1_console-view-project-graphiql.png" alt="Toggle production" width="1000px" />

You can now execute a query against this endpoint.

</TabItem>

<TabItem value="cli" label="CLI">

Earlier, we tested our build's endpoint by running a curl request. We can do the same thing, but now against our
production endpoint.

Then, use the endpoint returned to execute this request:

```bash
curl -X POST -H "Content-Type: application/json" -H "hasura_cloud_pat: <YOUR_PAT>" -d '{"query": "{ users { id name } }"}' https://<YOUR_PROJECT_NAME>.ddn.hasura.app/graphql
```

</TabItem>

</Tabs>

## What's next?

### Iterate on your metadata

We've just demonstrated how to quickly get set up and running with Hasura. Now that you've got a project up and running,
you can iterate on your metadata and build out your API. Head back to the Metadata tab, make some modifications, create
a new build, and see what happens ðŸŽ‰
